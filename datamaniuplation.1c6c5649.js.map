{"version":3,"sources":["node_modules/axios/lib/helpers/bind.js","node_modules/axios/lib/utils.js","node_modules/axios/lib/helpers/buildURL.js","node_modules/axios/lib/core/InterceptorManager.js","node_modules/axios/lib/core/transformData.js","node_modules/axios/lib/cancel/isCancel.js","node_modules/axios/lib/helpers/normalizeHeaderName.js","node_modules/axios/lib/core/enhanceError.js","node_modules/axios/lib/core/createError.js","node_modules/axios/lib/core/settle.js","node_modules/axios/lib/helpers/cookies.js","node_modules/axios/lib/helpers/isAbsoluteURL.js","node_modules/axios/lib/helpers/combineURLs.js","node_modules/axios/lib/core/buildFullPath.js","node_modules/axios/lib/helpers/parseHeaders.js","node_modules/axios/lib/helpers/isURLSameOrigin.js","node_modules/axios/lib/adapters/xhr.js","node_modules/process/browser.js","node_modules/axios/lib/defaults.js","node_modules/axios/lib/core/dispatchRequest.js","node_modules/axios/lib/core/mergeConfig.js","node_modules/axios/lib/core/Axios.js","node_modules/axios/lib/cancel/Cancel.js","node_modules/axios/lib/cancel/CancelToken.js","node_modules/axios/lib/helpers/spread.js","node_modules/axios/lib/helpers/isAxiosError.js","node_modules/axios/lib/axios.js","node_modules/axios/index.js","components/insertable.js","node_modules/backbone-events-standalone/backbone-events-standalone.js","node_modules/backbone-events-standalone/index.js","node_modules/biojs-events/index.js","lib/inchlib-1.2.0.js","components/drawmap.js","node_modules/path-browserify/index.js","node_modules/dotenv/lib/main.js","components/index.js","components/datamaniuplation.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","idSet","Set","initTable","table","innerHTML","addMir","id","idMap","document","getElementById","rows","connection_kind","forEach","element","has","add","newRow","insertRow","insertCell","innerText","element_getDetailes","addEventListener","event","td","tr","target","parentNode","removeChild","delete","targetConnection","Left_element_array","children","split","element_deatils","connection_list","show_connections","$","modal","connections_from_localStorage_name","connections_from_localStorage","localStorage","getItem","dict","JSON","parse","undefined","textContent","require","InCHlib","_this","isMergeableObject","Object","toString","emptyTarget","isArray","cloneIfNecessary","r","clone","deepmerge","defaultArrayMerge","t","a","slice","c","indexOf","mergeObject","keys","arrayMerge","all","reduce","settings","user_settings","target_element","css","update_settings","width","max_width","target_width","heatmap","relative_width","header_height","footer_height","dendrogram_heatmap_distance","events","object_ids","evt","console","log","row_click","row_mouseover","row_mouseout","node_id","dendrogram_node_click","column_indexes","column_dendrogram_node_click","empty_space_click","obj","colors","objects_ref","Konva","Label","opacity","listening","preventDefault","Tag","fill","label_color","pointerWidth","pointerHeight","lineJoin","Text","fontFamily","font","fontSize","padding","fontStyle","align","lineHeight","Line","stroke","strokeWidth","lineCap","Rect","height","value","dash","Path","x","y","fillLinearGradientStartPoint","fillLinearGradientEndPoint","Image","paths_ref","_update_user_settings","read_data","json","data","metadata","draw","column_dendrogram","heatmap_header","rotation","stringify","column_metadata","alternative_data","nodes","feature_names","_add_prefix","node_ids","leaf_ids","filter","count","send_json","_add_prefix_to_data","join","prefixed_data","parent","left_child","right_child","_get_root_id","root_id","_get_dimensions","dimensions","images","features","_get_min_max_middle","sort","b","params","min","_hack_round","Math","max","middle","_get_data_min_max_middle","axis","section","data2descs","j","columns","data_length","data_min_max_middle","value_type","extend","_is_number","map","parseFloat","hash_object","_get_hash_object","_hack_size","_get_max_length","items","lengths","_get_max_value_length","node_data","max_length","values","current_leaf_ids","v","len_2","_preprocess_heatmap_data","key","node","heatmap_array","_reorder_heatmap","column_index","leaves_y_coordinates","ordered_by_index","reverse","top_heatmap_distance","pixels_for_leaf","time","zoomed_clusters","last_highlighted_cluster","current_object_ids","current_column_ids","highlighted_rows_y","on_features","column_metadata_rows","column_metadata_height","row_height","last_column","_set_heatmap_settings","_adjust_leaf_size","row_ids","_get_row_id_size","right_margin","_adjust_horizontal_sizes","stage","Stage","container","setWidth","setHeight","_draw_stage_layer","dendrogram","timer","_draw_dendrogram_layers","_draw_row_dendrogram","timeEnd","column_root_id","nodes2columns","columns_start_index","_draw_column_dendrogram","path2image","path2image_obj","image_counter","_draw_heatmap","_draw_heatmap_header","_draw_navigation","highlight_rows","highlighted_rows","style","display","animate","scrollTop","cluster_layer","Layer","dendrogram_hover_layer","unhighlight_cluster","unhighlight_column_cluster","empty_space_onclick","_get_node_levels","level","parent_id","dendrogram_layer","distance_step","distance","objects2leaves","current_left_count","current_right_count","unified_distance","unified_distance_step","node_options","to_draw","_draw_row_dendrogram_node","middle_item_count","min_item_count","max_item_count","_draw_distance_scale","_bind_dendrogram_hover_events","_dendrogram_layers_click","_dendrogram_layers_mousedown","_dendrogram_layers_mouseup","color","node_neighbourhood","_get_node_neighbourhood","y1","_get_y1","y2","_get_y2","left_distance","right_distance","x1","x2","_draw_horizontal_path","left_node","right_count","right_node","left_count","objects","stage_layer","stage_rect","moveToBottom","column_dendrogram_layer","column_x_coordinates","current_column_count","vertical_distance","vertical_distance_step","last_highlighted_column_cluster","_draw_column_dendrogram_node","_get_nodes2columns","_column_dendrogram_layers_click","_column_dendrogram_layers_mousedown","coordinates","coordinates2nodes","layer","_dendrogram_layers_mouseover","_dendrogram_layers_mouseout","_delete_layers","to_destroy","to_remove_children","destroy","removeChildren","_delete_all_layers","destroyChildren","leaves","max_height","fixed_size","_get_visible_count","heatmap_width","pixels_for_dimension","heatmap_distance","column_width","_set_color_settings","data_descs","independent_columns","min_max_middle","metadata_descs","header","columns_order","count_column","_set_on_features","metadata_header","current_label","trim","column_metadata_header","heatmap_row","heatmap_layer","heatmap_overlay","current_draw_values","max_value_length","value_font_size","_get_font_size","_draw_heatmap_row","_bind_row_events","column_metadata_descs","_draw_column_metadata_row","_draw_row_ids","highlighted_rows_layer","moveToTop","row_overlay","heatmap_line","column_overlay","last_header","heatmap_onmouseout","line","text","text_value","col_index","row","Group","includes","filepath","path","ext","escape","image_obj","src","onload","image","points","column","_get_color_for_value","scale","heatmap_value","colors_predefined","value2color","default","getWidth","position","row_index","str2num","fontWeight","_row_mouseenter","_row_mouseleave","_draw_col_label","find","row_id","attrs","class","item_ids","row_onclick","cell","_get_cell_data","cell_click","row_id_size","object_y","leaf_id","append","test_string","test","header_layer","column_header","current_headers","header_settings","index","max_text_length","label","font_size","header_shift","position_index","getChildren","setFill","setAttrs","_translate_column_to_feature_index","setOpacity","navigation_toggle","distance_scale","circle","Circle","radius","number","marker_distance","marker_number_distance","marker_distance_step","round","distance_number","marker_counter","navigation_layer","_draw_color_scale","_draw_help","filter_button","filter_icon","icon","filter_overlay","_draw_icon_overlay","_filter_icon_click","_icon_mouseover","_icon_mouseout","refresh_icon","refresh_overlay","_refresh_icon_click","on_refresh","unzoom_icon","unzoom_overlay","_unzoom_icon_click","column_unzoom_icon","column_unzoom_overlay","_column_unzoom_icon_click","export_button","export_icon","export_overlay","_export_icon_click","hint_button","help_icon","help_overlay","_help_mouseover","_help_mouseout","color_scale","color_steps","rect_gradient","_color_scale_mouseover","_color_scale_mouseout","_color_scale_click","_update_color_scale","fillLinearGradientColorStops","icon_overlay","_highlight_path","path_id","get","_highlight_column_path","unhighlight_rows","original_colors","original_metadata_colors","highlight_colors","done_rows","unique_row_ids","setAttr","fire","_highlight_cluster","previous_cluster","_draw_cluster_layer","dendrogram_node_highlight","_unprefix","_highlight_column_cluster","_draw_column_cluster_layer","column_dendrogram_node_highlight","column_cluster_group","column_dendrogram_node_unhighlight","highlight_cluster","_prefix","highlight_column_cluster","row_cluster_group","dendrogram_node_unhighlight","_neutralize_path","setStroke","visible","rows_desc","zoom_icon","zoom_overlay","upper_y","lower_y","cluster_overlay_1","cluster_overlay","cluster_border_1","cluster_border","cluster_overlay_2","cluster_border_2","_zoom_cluster","cols_desc","_zoom_column_cluster","_draw_column_cluster","row_node","on_columns_zoom","_unzoom_column_cluster","unzoomed","pop","zoomed_count","_get_column_ids","on_columns_unzoom","_draw_cluster","on_zoom","_unzoom_cluster","on_unzoom","left_child_left_child","left_child_right_child","right_child_left_child","right_child_right_child","_get_x1","_get_x2","_draw_vertical_path","path_group","path_rect","node_rect","path_color","filter_features_element","symbol","fadeIn","overlay","_draw_target_overlay","attr","filter_list","parseInt","click","num","symbol_element","mousedown","hover","fadeOut","highlighted_cluster","_visible_features_equal_column_dendrogram_count","redraw","html2canvas","backgroundColor","then","canvas","createElement","href","toDataURL","replace","download","option","color_options","value_options","settings_form","options","color_1","color_2","color_3","i2","len2","key2","color_buttons","settings_fieldset","redraw_heatmap","scale_divs","icon_tooltip","icon_id","help_element","c1","c2","g","text_length","max_possible_size","max_font_size","isFinite","header_type2value","tooltip","pointerDirection","drawmap","inchlib","formNotExists","formExists","res","checked","res2","showMaps","hideMaps","drawmap2","inchlib2","drawmapAfterManipulate","cleanConnectionTables","table_1to2","table_2to1","cleanTableOne","cleanTableTwo","fs","message","NEWLINE","RE_INI_KEY_VAL","RE_NEWLINES","NEWLINES_MATCH","debug","Boolean","idx","keyValueArr","match","val","end","isDoubleQuoted","substring","config","dotenvPath","resolve","encoding","parsed","readFileSync","hasOwnProperty","error","dotenv","api_host","ready","wichTableWorkOn","clusterManipluate","axios","dataManipulate","properties","checkIfBoth","action","linkage1","distance1","getAllValues","toLowerCase","sendToServer","post","headers","response","errormessage","insertAfter","remove","changeSelectClusterManipulate","tableName","each"],"mappings":"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","file":"datamaniuplation.1c6c5649.js","sourceRoot":"..","sourcesContent":["'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","\r\nvar idSet = new Set()\r\nexport function initTable(table){\r\n    idSet= new Set();\r\n    table.innerHTML=\"\";\r\n}\r\n\r\nexport function addMir(id, idMap){\r\n    if(idMap==='inchlib1' ||idMap==='inchlib' ){// add mir only if the mir map was clicked\r\n        var table = document.getElementById(\"table-connect-1to2\")\r\n        var length = document.getElementById(\"table-connect-1to2\").rows.length;\r\n        var connection_kind= \"connect_1to2\";\r\n    }\r\n    else{\r\n        var table = document.getElementById(\"table-connect-2to1\")\r\n        var length = document.getElementById(\"table-connect-2to1\").rows.length;\r\n        var connection_kind= \"connect_2to1\";\r\n\r\n    }\r\n        id.forEach(element => {\r\n            if(!idSet.has(element)){\r\n            idSet.add(element)\r\n            var newRow = table.insertRow(length)\r\n            newRow.insertCell(0).innerText=element\r\n            var element_getDetailes= element+\"-getDetailes-\"+connection_kind;\r\n            newRow.insertCell(1).innerHTML=`<button id=${element_getDetailes}  type='button' >Click here</button>`;\r\n            newRow.insertCell(2).innerHTML=`<i id=${element} style=\"color:red;\"class=\"fas fa-trash-alt\"></i>`;\r\n            document.getElementById(element).addEventListener('click', function deleteId(event){\r\n                var td = event.target.parentNode; \r\n                var tr = td.parentNode; // the row to be removed\r\n                tr.parentNode.removeChild(tr);\r\n                idSet.delete(element);\r\n            });\r\n            document.getElementById(element_getDetailes).addEventListener('click', targetConnection);\r\n            length++;\r\n\r\n            }\r\n        });  \r\n}\r\n\r\n\r\nfunction targetConnection(event){\r\n    var td = event.target.parentNode; \r\n    var Left_element = td.children[0].id;\r\n    var Left_element_array = Left_element.split('-');\r\n    var element_deatils=Left_element_array[0];\r\n    let connection_kind=Left_element_array[2];\r\n\r\n    let connection_list = document.getElementById(\"connection_list\");\r\n\r\n    if(connection_kind===\"connect_1to2\")\r\n        show_connections('first_second_connections', element_deatils,connection_list)\r\n    else\r\n        show_connections('second_first_connections', element_deatils,connection_list)\r\n    \r\n\r\n    $('#connection-dialog').modal('show');\r\n}\r\n\r\nfunction show_connections(connections_from_localStorage_name, element_deatils, connection_list){\r\n    let connections_from_localStorage = localStorage.getItem(connections_from_localStorage_name);\r\n    let dict= JSON.parse(connections_from_localStorage);\r\n    if (dict[element_deatils]== undefined || dict[element_deatils].length == 0)\r\n        connection_list.textContent= 'There are no suitable connections'; \r\n    else\r\n        connection_list.textContent=dict[element_deatils]; \r\n}\r\n\r\n","/**\n * Standalone extraction of Backbone.Events, no external dependency required.\n * Degrades nicely when Backone/underscore are already available in the current\n * global context.\n *\n * Note that docs suggest to use underscore's `_.extend()` method to add Events\n * support to some given object. A `mixin()` method has been added to the Events\n * prototype to avoid using underscore for that sole purpose:\n *\n *     var myEventEmitter = BackboneEvents.mixin({});\n *\n * Or for a function constructor:\n *\n *     function MyConstructor(){}\n *     MyConstructor.prototype.foo = function(){}\n *     BackboneEvents.mixin(MyConstructor.prototype);\n *\n * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * (c) 2013 Nicolas Perriault\n */\n/* global exports:true, define, module */\n(function() {\n  var root = this,\n      nativeForEach = Array.prototype.forEach,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      slice = Array.prototype.slice,\n      idCounter = 0;\n\n  // Returns a partial implementation matching the minimal API subset required\n  // by Backbone.Events\n  function miniscore() {\n    return {\n      keys: Object.keys || function (obj) {\n        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n          throw new TypeError(\"keys() called on a non-object\");\n        }\n        var key, keys = [];\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys[keys.length] = key;\n          }\n        }\n        return keys;\n      },\n\n      uniqueId: function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n      },\n\n      has: function(obj, key) {\n        return hasOwnProperty.call(obj, key);\n      },\n\n      each: function(obj, iterator, context) {\n        if (obj == null) return;\n        if (nativeForEach && obj.forEach === nativeForEach) {\n          obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            iterator.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (this.has(obj, key)) {\n              iterator.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      },\n\n      once: function(func) {\n        var ran = false, memo;\n        return function() {\n          if (ran) return memo;\n          ran = true;\n          memo = func.apply(this, arguments);\n          func = null;\n          return memo;\n        };\n      }\n    };\n  }\n\n  var _ = miniscore(), Events;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Mixin utility\n  Events.mixin = function(proto) {\n    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                   'listenToOnce', 'bind', 'unbind'];\n    _.each(exports, function(name) {\n      proto[name] = this[name];\n    }, this);\n    return proto;\n  };\n\n  // Export Events as BackboneEvents depending on current context\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = Events;\n    }\n    exports.BackboneEvents = Events;\n  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n    define(function() {\n      return Events;\n    });\n  } else {\n    root.BackboneEvents = Events;\n  }\n})(this);\n","module.exports = require('./backbone-events-standalone');\n","var events = require(\"backbone-events-standalone\");\n\nevents.onAll = function(callback,context){\n  this.on(\"all\", callback,context);\n  return this;\n};\n\n// Mixin utility\nevents.oldMixin = events.mixin;\nevents.mixin = function(proto) {\n  events.oldMixin(proto);\n  // add custom onAll\n  var exports = ['onAll'];\n  for(var i=0; i < exports.length;i++){\n    var name = exports[i];\n    proto[name] = this[name];\n  }\n  return proto;\n};\n\nmodule.exports = events;\n","const {addMir} = require('../components/insertable')\r\n/*DEEP MERGE*/\r\nfunction isMergeableObject(e){return e&&\"object\"==typeof e&&\"[object RegExp]\"!==Object.prototype.toString.call(e)&&\"[object Date]\"!==Object.prototype.toString.call(e)}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneIfNecessary(e,r){return r&&!0===r.clone&&isMergeableObject(e)?deepmerge(emptyTarget(e),e,r):e}function defaultArrayMerge(e,r,t){var a=e.slice();return r.forEach(function(r,c){void 0===a[c]?a[c]=cloneIfNecessary(r,t):isMergeableObject(r)?a[c]=deepmerge(e[c],r,t):-1===e.indexOf(r)&&a.push(cloneIfNecessary(r,t))}),a}function mergeObject(e,r,t){var a={};return isMergeableObject(e)&&Object.keys(e).forEach(function(r){a[r]=cloneIfNecessary(e[r],t)}),Object.keys(r).forEach(function(c){isMergeableObject(r[c])&&e[c]?a[c]=deepmerge(e[c],r[c],t):a[c]=cloneIfNecessary(r[c],t)}),a}function deepmerge(e,r,t){var a=Array.isArray(r),c=(t||{arrayMerge:defaultArrayMerge}).arrayMerge||defaultArrayMerge;return a?Array.isArray(e)?c(e,r,t):cloneIfNecessary(r,t):mergeObject(e,r,t)}deepmerge.all=function(e,r){if(!Array.isArray(e)||e.length<2)throw new Error(\"first argument should be an array with at least two elements\");return e.reduce(function(e,t){return deepmerge(e,t,r)})};\r\n\r\n/**\r\n* InCHlib is an interactive JavaScript library which facilitates data\r\n* visualization and exploration by means of a cluster heatmap. InCHlib\r\n* is a versatile tool, and its use is not limited only to chemical or\r\n* biological data. Source code, tutorial, documentation, and example\r\n* data are freely available from InCHlib website <a\r\n* href=\"http://openscreen.cz/software/inchlib\"\r\n* target=blank>http://openscreen.cz/software/inchlib</a>. At the\r\n* website, you can also find a Python script <a\r\n* href=\"http://openscreen.cz/software/inchlib/inchlib_clust\"\r\n* target=blank>inchlib_clust</a> which performs data clustering and\r\n* prepares <a href=\"http://openscreen.cz/software/inchlib/input_format\"\r\n* target=blank>input data for InCHlib</a>.\r\n* \r\n* @author <a href=\"mailto:ctibor.skuta@img.cas.cz\">Ctibor Škuta</a>\r\n* @author <a href=\"mailto:petr.bartunek@img.cas.cz\">Petr Bartůněk</a>\r\n* @author <a href=\"mailto:svozild@vscht.cz\">Daniel Svozil</a>\r\n* @version dev\r\n* @category 1\r\n* @license InCHlib - Interactive Cluster Heatmap Library http://openscreen.cz/software/inchlib Copyright 2014, Ctibor Škuta, Petr Bartůněk, Daniel Svozil Licensed under the MIT license.\r\n* \r\n* Permission is hereby granted, free of charge, to any person\r\n* obtaining a copy of this software and associated documentation\r\n* files (the \"Software\"), to deal in the Software without\r\n* restriction, including without limitation the rights to use,\r\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n* copies of the Software, and to permit persons to whom the\r\n* Software is furnished to do so, subject to the following\r\n* conditions:\r\n* \r\n* The above copyright notice and this permission notice shall be\r\n* included in all copies or substantial portions of the Software.\r\n* \r\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n* OTHER DEALINGS IN THE SOFTWARE.\r\n* \r\n* @requires <a href='http://code.jquery.com/jquery-2.0.3.min.js'>jQuery Core 2.0.3</a>\r\n* @dependency <script language=\"JavaScript\" type=\"text/javascript\" src=\"http://code.jquery.com/jquery-2.0.3.min.js\"></script>\r\n* \r\n* @requires <a href='https://cdn.rawgit.com/konvajs/konva/0.9.5/konva.min.js'>KonvaJS 0.9.5</a>\r\n* @dependency <script language=\"JavaScript\" type=\"text/javascript\" src=\"https://cdn.rawgit.com/konvajs/konva/0.9.5/konva.min.js\"></script>\r\n*\r\n* @param {Object} options An object with the options for the InCHlib component.\r\n*\r\n* @option {string} target\r\n*   identifier of the DIV tag where the component should be displayed\r\n\r\n* @option {boolean} [column_dendrogram=false]\r\n*   turn on/off the column dendrogram\r\n\r\n* @option {boolean} [count_column=false]\r\n*   turn on/off the count column\r\n\r\n* @option {boolean} [dendrogram=true]\r\n*   turn on/off the row dendrogram\r\n\r\n* @option {string} [font=\"Trebuchet&nbsp;MS\"]\r\n*   font family\r\n\r\n* @option {string} [heatmap_colors=\"Greens\"]\r\n*   the heatmap color scale\r\n\r\n* @option {number} [heatmap_part_width=0.7]\r\n*   define the heatmap part width from the width of the whole graph\r\n\r\n* @option {string} [highlight_colors=\"Reds\"]\r\n*   color scale for highlighted rows\r\n\r\n* @option {obejct} [highlighted_rows=[]]\r\n*   array of row IDs to highlight\r\n\r\n* @option {boolean} [independent_columns=true]\r\n*   determines whether the color scale is based on the values from all columns together or for each column separately\r\n\r\n* @option {string} [label_color=grey]\r\n*   color of column label\r\n\r\n* @option {number} [max_column_width=100]\r\n*   maximum column width in pixels\r\n\r\n* @option {number} [max_height=800]\r\n*   maximum graph height in pixels\r\n\r\n* @option {number} [max_row_height=25]\r\n*   maximum row height in pixels\r\n\r\n* @option {boolean} [metadata=false]\r\n*   turn on/off the metadata\r\n\r\n* @option {string} [metadata_colors=\"Oranges\"]\r\n*   the metadata color scale\r\n\r\n* @option {number} [min_row_height=false]\r\n*   minimum row height in pixels\r\n\r\n* @option {number} [width=\"the width of target DIV\"]\r\n*   width of the graph in pixels\r\n\r\n* @option {boolean} [heatmap=true]\r\n*   turn on/off the heatmap\r\n\r\n* @option {string} [heatmap_font_color=\"black\"]\r\n*   the color of the text values in the heatmap\r\n\r\n* @option {string} [count_column_colors=\"Reds\"]\r\n*   the color scale of count column\r\n\r\n* @option {boolean} [draw_row_ids=false]\r\n*   draws the row IDs next to the heatmap when there is enough space to visualize them\r\n\r\n* @option {boolean} [fixed_row_id_size=false]\r\n*   fixes the row id size on given number and extends the right margin of the visualization accordingly\r\n\r\n* @option {number} [max_percentile=100]\r\n*   the value percentile above which the color will be equal to the terminal color of the color scale\r\n\r\n* @option {number} [min_percentile=0]\r\n*   the value percentile below which the color will be equal to the beginning color of the color scale\r\n\r\n* @option {number} [middle_percentile=50]\r\n*   the value percentile which defines where the middle color of the color scale will be used\r\n\r\n* @option {array} [columns_order=[]]\r\n*   the order of columns defined by their indexes startin from 0, when not provided the columns are sorted in common order 0, 1, 2... etc.\r\n\r\n* @option {boolean} [alternative_data=false]\r\n*   use original data to compute heatmap but show the alternative values (alternative_data section must be present in input data)\r\n\r\n* @option {boolean} [images_as_alternative_data=false]\r\n*   alternative data values can be used to identify image files (.png, .jpg) and draw them insted of the heatmap values\r\n\r\n* @option {object} [images_path=false]\r\n*   when using images_as_alternative_data option - set dir path of the image files and the image files extension to generate the whole file path ({\"dir\": \"\", \"ext\": \"\"})\r\n\r\n* @option {object} [navigation_toggle={\"distance_scale\": false, \"filter_button\": false, \"export_button\": false, \"color_scale\": false, \"hint_button\": false}]\r\n*   toggle \"navigation\" features - true/false\r\n\r\n* \r\n* @example\r\n*       window.instance = new InCHlib({\r\n*                target : \"YourOwnDivId\",\r\n*                metadata: true, \r\n*                max_height: 800,\r\n*                width: 700,\r\n*                metadata_colors: \"RdLrBu\"\r\n*            });\r\n*       instance.read_data_from_file(\"../biojs/data/chembl_gr.json\");\r\n*       instance.draw();\r\n*/\r\n\r\nvar InCHlib, _this;\r\n\r\n  InCHlib = function(settings){\r\n     \r\n      _this = this;\r\n      _this.user_settings = settings;\r\n      _this.target_element = $(\"#\" + settings.target);\r\n      _this.target_element.css({\"position\": \"relative\"});\r\n      /**\r\n      * Default values for the settings\r\n      * @name InCHlib#settings\r\n      */\r\n\r\n      _this.settings = {\r\n          \"target\" : \"YourOwnDivId\",\r\n          \"heatmap_header\": {\r\n            \"draw\": true,\r\n            \"settings\":{\r\n              \"fontFamily\": \"sans-serif\",\r\n              \"fontSize\": 10,\r\n              \"rotation\": -80,\r\n              \"fill\": \"#000000\"\r\n            }\r\n          },\r\n          \"heatmap\": {\r\n            \"draw\": true,\r\n            \"colors\": {\r\n              \"scale\": \"Greens\",\r\n              \"value_type\": \"percentile\",\r\n              \"independent_columns\" : true,\r\n              \"params\": {\"min\": 0, \"middle\": 50, \"max\": 100}\r\n            },\r\n            \"columns_order\": [],\r\n            \"row_height\": {\"min\": 1, \"max\": 25},\r\n            \"column_width\": {\"max\": 150},\r\n            \"relative_width\": 0.7,\r\n            \"font\": {\r\n              \"fontFamily\": \"Helvetica\",\r\n              \"fill\": \"#000000\"\r\n            }\r\n          },\r\n          \"dendrogram\": {\r\n            \"draw\": true,\r\n            \"unified_distance\": false\r\n          },\r\n          \"metadata\": {\r\n            \"draw\": false,\r\n            \"colors\": {\r\n              \"independent_columns\" : true,\r\n              \"value_type\": \"percentile\",\r\n              \"scale\": \"Reds\",\r\n              \"params\": {\"min\": 0, \"middle\": 50, \"max\": 100},\r\n              \"value2color\": {},\r\n              \"default\": \"#F5F5F5\"\r\n            }\r\n          },\r\n          \"column_metadata\": {\r\n            \"draw\": true,\r\n            \"row_height\": 8,\r\n            \"feature_names\": {\r\n              \"draw\": true,\r\n              \"settings\": {\r\n                \"fontFamily\": \"Helvetica\",\r\n                \"fontSize\": undefined,\r\n                \"fill\": \"#000000\"\r\n              }\r\n            },\r\n            \"colors\": {\r\n              \"independent_columns\" : true,\r\n              \"value_type\": \"percentile\",\r\n              \"scale\": \"Reds\",\r\n              \"params\": {\"min\": 0, \"middle\": 50, \"max\": 100},\r\n              \"value2color\": {},\r\n              \"default\": \"#F5F5F5\"\r\n            }\r\n          },\r\n          \"row_ids\": {\r\n            \"draw\": false,\r\n            \"fixed_size\": false,\r\n            \"tooltip\": true\r\n          },\r\n          \"column_dendrogram\": {\r\n            \"draw\": true\r\n          },\r\n          \"count_column\": {\r\n            \"draw\": false,\r\n            \"colors\": \"Reds\"\r\n          },\r\n          \"max_height\" : 1200,\r\n          \"width\" : 1600,\r\n          \"highlight_colors\" : \"Oranges\",\r\n          \"highlighted_rows\" : [],\r\n          \"label_color\": \"#9E9E9E\",\r\n          \"alternative_data\": false,\r\n          \"images\": {\r\n            \"draw\": false,\r\n            \"path\": {\"dir\": \"\", \"ext\": \"\"}\r\n          },\r\n          \"navigation_toggle\": {\"color_scale\": true, \"distance_scale\": true, \"export_button\": true, \"filter_button\": true, \"hint_button\": true},\r\n      };\r\n\r\n      _this.update_settings(settings);\r\n      _this.settings.width = (settings.max_width && settings.max_width < target_width)?settings.max_width:_this.settings.width;\r\n      _this.settings.heatmap.relative_width = (_this.settings.heatmap.relative_width>0.9)?0.9:_this.settings.heatmap.relative_width;\r\n\r\n      _this.header_height = 150;\r\n      _this.footer_height = 70;\r\n      _this.dendrogram_heatmap_distance = 5;\r\n\r\n      /**\r\n      * Default function definitions for the InCHlib events\r\n      * @name InCHlib#events\r\n      */\r\n      _this.events = {\r\n          /**\r\n            * @name InCHlib#row_onclick\r\n            * @event\r\n            * @param {function} function() callback function for click on the heatmap row event\r\n            * @eventData {array} array array of object IDs represented by row\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.row_onclick = (\r\n            *    function(object_ids, evt) {\r\n            *       alert(object_ids);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"row_click\": function(object_ids, evt){\r\n              return;\r\n          },\r\n\r\n          \"row_onclick\": function(object_ids, evt){\r\n              console.log('hererrere')\r\n              addMir(object_ids, settings.target)\r\n              _this.events.row_click(object_ids, evt);\r\n              return object_ids;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#row_onmouseover\r\n            * @event\r\n            * @param {function} function() callback function for mouse cursor over the heatmap row event\r\n            * @eventData {array} array array of object IDs represented by row\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.row_onmouseover = (\r\n            *    function(object_ids, evt) {\r\n            *       alert(object_ids);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"row_mouseover\": function(object_ids, evt){\r\n              return;\r\n          },\r\n\r\n          \"row_onmouseover\": function(object_ids, evt){\r\n              _this.events.row_mouseover(object_ids, evt);\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#row_onmouseout\r\n            * @event\r\n            * @param {function} function() callback function for mouse cursor out of the heatmap row event\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.row_onmouseout = (\r\n            *    function(evt) {\r\n            *       alert(\"now\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"row_mouseout\": function(evt){\r\n              return;\r\n          },\r\n\r\n          \"row_onmouseout\": function(evt){\r\n              _this.events.row_mouseout(evt);\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#dendrogram_node_onclick\r\n            * @event\r\n            * @param {function} function() callback function for dendrogram node click event\r\n            * @eventData {array} array array of object IDs represented by the node\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.dendrogram_node_onclick = (\r\n            *    function(object_ids, node_id, evt) {\r\n            *    alert(node_id + \": \" + object_ids.length+\" rows\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"dendrogram_node_click\": function(object_ids, node_id, evt){\r\n              return;\r\n          },\r\n\r\n          \"dendrogram_node_onclick\": function(object_ids, node_id, evt){\r\n              _this.events.dendrogram_node_click(object_ids, node_id, evt);\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#column_dendrogram_node_onclick\r\n            * @event\r\n            * @param {function} function() callback function for column dendrogram click event\r\n            * @eventData {array} array array of column indexes\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.column_dendrogram_node_onclick = (\r\n            *    function(column_ids, node_id, evt) {\r\n            *    alert(node_id + \": \" + column_ids.length+\" columns\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n\r\n          \"column_dendrogram_node_click\": function(column_indexes, node_id, evt){\r\n              return;\r\n          },\r\n\r\n          \"column_dendrogram_node_onclick\": function(column_indexes, node_id, evt){\r\n              _this.events.column_dendrogram_node_click(column_indexes, node_id, evt);\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#dendrogram_node_highlight\r\n            * @event\r\n            * @param {function} function() callback function for the dendrogram node highlight event\r\n            * @eventData {array} array array of object IDs represented by row\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.dendrogram_node_highlight = (\r\n            *    function(object_ids, node_id, evt) {\r\n            *       alert(node_id + \": \" + object_ids.length+\" rows\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"dendrogram_node_highlight\": function(object_ids, node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#column_dendrogram_node_highlight\r\n            * @event\r\n            * @param {function} function() callback function for the column dendrogram node highlight event\r\n            * @eventData {array} array array of column indexes\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.column_dendrogram_node_highlight = (\r\n            *    function(object_ids, node_id, evt) {\r\n            *       alert(node_id + \": \" + object_ids.length+\" columns\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"column_dendrogram_node_highlight\": function(column_indexes, node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#dendrogram_node_unhighlight\r\n            * @event\r\n            * @param {function} function() callback function for the dendrogram node unhighlight event\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n\r\n            * @example \r\n            * instance.events.dendrogram_node_unhighlight = (\r\n            *    function(node_id) {\r\n            *       alert(node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"dendrogram_node_unhighlight\": function(node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#column_dendrogram_node_unhighlight\r\n            * @event\r\n            * @param {function} function() callback function for the column dendrogram node unhighlight event\r\n            * @eventData {string} node_id Id of the column dendrogram node\r\n\r\n            * @example \r\n            * instance.events.column_dendrogram_node_unhighlight = (\r\n            *    function(node_id) {\r\n            *       alert(node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n            \"column_dendrogram_node_unhighlight\": function(node_id){\r\n                return;\r\n            },\r\n\r\n          /**\r\n            * @name InCHlib#heatmap_onmouseout\r\n            * @event\r\n            * @param {function} function() callback function for mouse cursor out of hte heatmap area\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.heatmap_onmouseout = (\r\n            *    function(evt) {\r\n            *       alert(\"now\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"heatmap_onmouseout\": function(evt){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#on_zoom\r\n            * @event\r\n            * @param {function} function() callback function for zoom event\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n\r\n            * @example \r\n            * instance.events.on_zoom = (\r\n            *    function(node_id) {\r\n            *       alert(node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"on_zoom\": function(object_ids, node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#on_unzoom\r\n            * @event\r\n            * @param {function} function() callback function for unzoom event\r\n            * @eventData {string} node_id Id of the dendrogram node\r\n\r\n            * @example \r\n            * instance.events.on_unzoom = (\r\n            *    function(node_id) {\r\n            *       alert(node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"on_unzoom\": function(node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#on_columns_zoom\r\n            * @event\r\n            * @param {function} function() callback function for columns zoom event\r\n            * @eventData {array} array array of column indexes\r\n            * @eventData {string} node_id Id of the column dendrogram node\r\n\r\n            * @example \r\n            * instance.events.on_columns_zoom = (\r\n            *    function(column_indexes, node_id) {\r\n            *       alert(column_indexes, node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"on_columns_zoom\": function(column_indexes, node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#on_columns_unzoom\r\n            * @event\r\n            * @param {function} function() callback function for columns unzoom event\r\n            * @eventData {string} node_id Id of the column dendrogram node\r\n\r\n            * @example \r\n            * instance.events.on_columns_unzoom = (\r\n            *    function(node_id) {\r\n            *       alert(node_id);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"on_columns_unzoom\": function(node_id){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#on_refresh\r\n            * @event\r\n            * @param {function} function() callback function for refresh icon click event\r\n            * @eventData {object} event event object\r\n            * @example \r\n            * instance.events.on_refresh = (\r\n            *    function() {\r\n            *       alert(\"now\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"on_refresh\": function(){\r\n              return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#empty_space_onclick\r\n            * @event\r\n            * @param {function} function() callback function for click on empty(inactive) space in the visualization (e.g., around the heatmap)\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.empty_space_onclick = (\r\n            *    function(evt) {\r\n            *       alert(\"now\");\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n\r\n          \"empty_space_click\": function(evt){\r\n              return;\r\n          },\r\n\r\n          \"empty_space_onclick\": function(evt){\r\n              _this.events.empty_space_click(evt);\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#cell_click\r\n            * @event\r\n            * @param {function} function() callback function for click on a cell in a heatmap row\r\n            * @eventData {object} object containing value and header attributes\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.cell_click = (\r\n            *    function(obj, evt) {\r\n            *       alert(obj);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"cell_click\" : function(obj, evt){\r\n            return;\r\n          },\r\n\r\n          /**\r\n            * @name InCHlib#cell_mouseover\r\n            * @event\r\n            * @param {function} function() callback function for the mouseover event of a cell in a heatmap row\r\n            * @eventData {object} object containing value and header attributes\r\n            * @eventData {object} event event object\r\n\r\n            * @example \r\n            * instance.events.cell_mouseover = (\r\n            *    function(obj, evt) {\r\n            *       alert(obj);\r\n            *    }\r\n            * ); \r\n            * \r\n            */\r\n          \"cell_mouseover\" : function(obj, evt){\r\n            return;\r\n          }\r\n\r\n      }\r\n\r\n      /**\r\n      * Default color scales\r\n      * @name InCHlib#colors\r\n      */\r\n      _this.colors = {\r\n              \"YlGn\": {\"start\": {\"r\":255, \"g\": 255, \"b\": 204}, \"end\": {\"r\": 35, \"g\": 132, \"b\": 67}},\r\n              \"GnBu\": {\"start\": {\"r\":240, \"g\": 249, \"b\": 232}, \"end\": {\"r\": 43, \"g\": 140, \"b\": 190}},\r\n              \"BuGn\": {\"start\": {\"r\":237, \"g\": 248, \"b\": 251}, \"end\": {\"r\": 35, \"g\": 139, \"b\": 69}},\r\n              \"PuBu\": {\"start\": {\"r\":241, \"g\": 238, \"b\": 246}, \"end\": {\"r\": 5, \"g\": 112, \"b\": 176}},\r\n              \"BuPu\": {\"start\": {\"r\":237, \"g\": 248, \"b\": 251}, \"end\": {\"r\": 136, \"g\": 65, \"b\": 157}},\r\n              \"RdPu\": {\"start\": {\"r\":254, \"g\": 235, \"b\": 226}, \"end\": {\"r\": 174, \"g\": 1, \"b\": 126}},\r\n              \"PuRd\": {\"start\": {\"r\":241, \"g\": 238, \"b\": 246}, \"end\": {\"r\": 206, \"g\": 18, \"b\": 86}},\r\n              \"OrRd\": {\"start\": {\"r\":254, \"g\": 240, \"b\": 217}, \"end\": {\"r\": 215, \"g\": 48, \"b\": 31}},\r\n              \"Purples2\": {\"start\": {\"r\":242, \"g\": 240, \"b\": 247}, \"end\": {\"r\": 106, \"g\": 81, \"b\": 163}},\r\n              \"Blues\": {\"start\": {\"r\":239, \"g\": 243, \"b\": 255}, \"end\": {\"r\": 33, \"g\": 113, \"b\": 181}},\r\n              \"Greens\": {\"start\": {\"r\":237, \"g\": 248, \"b\": 233}, \"end\": {\"r\": 35, \"g\": 139, \"b\": 69}},\r\n              \"Oranges\": {\"start\": {\"r\":254, \"g\": 237, \"b\": 222}, \"end\": {\"r\": 217, \"g\": 71, \"b\": 1}},\r\n              \"Reds\": {\"start\": {\"r\":254, \"g\": 229, \"b\": 217}, \"end\": {\"r\": 203, \"g\": 24, \"b\": 29}},\r\n              \"Greys\": {\"start\": {\"r\":247, \"g\": 247, \"b\": 247}, \"end\": {\"r\": 82, \"g\": 82, \"b\": 82}},\r\n              \"PuOr\": {\"start\": {\"r\":230, \"g\": 97, \"b\": 1}, \"end\": {\"r\": 94, \"g\": 60, \"b\": 153}},\r\n              \"BrBG\": {\"start\": {\"r\":166, \"g\": 97, \"b\": 26}, \"end\": {\"r\": 1, \"g\": 133, \"b\": 113}},\r\n              \"RdBu\": {\"start\": {\"r\":202, \"g\": 0, \"b\": 32}, \"end\": {\"r\": 5, \"g\": 113, \"b\": 176}},\r\n              \"RdGy\": {\"start\": {\"r\":202, \"g\": 0, \"b\": 32}, \"end\": {\"r\": 64, \"g\": 64, \"b\": 64}},\r\n              \"BuYl\": {\"start\": {\"r\": 5, \"g\": 113, \"b\": 176}, \"end\": {\"r\": 250, \"g\": 233, \"b\": 42}},\r\n              \"YlOrR\": {\"start\": {\"r\":255, \"g\": 255, \"b\": 178}, \"end\": {\"r\": 227, \"g\": 26, \"b\": 28}, \"middle\": {\"r\": 204, \"g\": 76, \"b\": 2}},\r\n              \"YlOrB\": {\"start\": {\"r\":255, \"g\": 255, \"b\": 212}, \"end\": {\"r\": 5, \"g\": 112, \"b\": 176}, \"middle\": {\"r\": 204, \"g\": 76, \"b\": 2}},\r\n              \"PRGn2\": {\"start\": {\"r\":123, \"g\": 50, \"b\": 148}, \"end\": {\"r\": 0, \"g\": 136, \"b\": 55}, \"middle\": {\"r\":202, \"g\": 0, \"b\": 32}},\r\n              \"PiYG2\": {\"start\": {\"r\":208, \"g\": 28, \"b\": 139}, \"end\": {\"r\": 77, \"g\": 172, \"b\": 38}, \"middle\": {\"r\":255, \"g\": 255, \"b\": 178},},\r\n              \"YlGnBu\": {\"start\": {\"r\":255, \"g\": 255, \"b\": 204}, \"end\": {\"r\": 34, \"g\": 94, \"b\": 168}, \"middle\": {\"r\": 35, \"g\": 132, \"b\": 67}},\r\n              \"RdYlBu\": {\"start\": {\"r\":215, \"g\": 25, \"b\": 28}, \"end\": {\"r\": 44, \"g\": 123, \"b\": 182}, \"middle\": {\"r\":255, \"g\": 255, \"b\": 178}},\r\n              \"RdYlGn\": {\"start\": {\"r\":215, \"g\": 25, \"b\": 28}, \"end\": {\"r\": 26, \"g\": 150, \"b\": 65}, \"middle\": {\"r\":255, \"g\": 255, \"b\": 178}},\r\n              \"BuWhRd\": {\"start\": {\"r\": 33, \"g\": 113, \"b\": 181}, \"middle\": {\"r\": 255, \"g\": 255, \"b\": 255}, \"end\": {\"r\":215, \"g\": 25, \"b\": 28}},\r\n              \"RdLrBu\": {\"start\": {\"r\":215, \"g\": 25, \"b\": 28}, \"middle\": {\"r\":254, \"g\": 229, \"b\": 217}, \"end\": {\"r\": 44, \"g\": 123, \"b\": 182}},\r\n              \"RdBkGr\": {\"start\": {\"r\":215, \"g\": 25, \"b\": 28}, \"middle\": {\"r\": 0, \"g\": 0, \"b\": 0}, \"end\": {\"r\": 35, \"g\": 139, \"b\": 69}},\r\n              \"RdLrGr\": {\"start\": {\"r\":215, \"g\": 25, \"b\": 28}, \"middle\": {\"r\":254, \"g\": 229, \"b\": 217}, \"end\": {\"r\": 35, \"g\": 139, \"b\": 69}},\r\n      };\r\n\r\n      /**\r\n      * Default konvajs objects references\r\n      * @name InCHlib#objects_ref\r\n      */\r\n      _this.objects_ref = {\r\n          \"tooltip_label\": new Konva.Label({\r\n                              opacity: 1,\r\n                              listening: false,\r\n                              preventDefault: false\r\n                           }),\r\n\r\n          \"tooltip_tag\": new Konva.Tag({\r\n                              fill: _this.settings.label_color,\r\n                              pointerWidth: 10,\r\n                              pointerHeight: 10,\r\n                              lineJoin: 'round',\r\n                              listening: false,\r\n                              preventDefault: false\r\n                          }),\r\n      \r\n          \"tooltip_text\": new Konva.Text({\r\n                              fontFamily: _this.settings.heatmap.font.fontFamily,\r\n                              fontSize: 12,\r\n                              padding: 8,\r\n                              fill: 'white',\r\n                              fontStyle: \"bold\",\r\n                              listening: false,\r\n                              align: \"center\",\r\n                              lineHeight: 1.2,\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"node\": new Konva.Line({\r\n                              stroke: \"grey\",\r\n                              strokeWidth: 2,\r\n                              lineCap: 'sqare',\r\n                              lineJoin: 'round',\r\n                              listening: false,\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"node_rect\" : new Konva.Rect({\r\n                              fill: \"white\",\r\n                              opacity: 0,\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"icon_overlay\": new Konva.Rect({\r\n                              width: 32,\r\n                              height: 32,\r\n                              opacity: 0,\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"heatmap_value\": new Konva.Text({\r\n                              fontFamily: _this.settings.heatmap.font.fontFamily,\r\n                              fill: _this.settings.heatmap.font.fill,\r\n                              fontStyle: \"bold\",\r\n                              listening: false,\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"heatmap_line\": new Konva.Line({\r\n                             lineCap: 'butt',\r\n                             value: false,\r\n                             preventDefault: false\r\n                          }),\r\n\r\n          \"column_header\": new Konva.Text({\r\n                              fontFamily: _this.settings.heatmap.font.fontFamily,\r\n                              fontStyle: \"bold\",\r\n                              fill: 'black',\r\n                              preventDefault: false\r\n                           }),\r\n\r\n          \"count\": new Konva.Text({\r\n                          fontSize: 10,\r\n                          fill: \"#6d6b6a\",\r\n                          fontFamily: _this.settings.heatmap.font.fontFamily,\r\n                          fontStyle: 'bold',\r\n                          listening: false,\r\n                          preventDefault: false\r\n                       }),\r\n\r\n          \"cluster_overlay\": new Konva.Rect({\r\n                                  fill: \"white\",\r\n                                  opacity: 0.5,\r\n                                  preventDefault: false\r\n                              }),\r\n\r\n          \"cluster_border\": new Konva.Line({\r\n                                  stroke: \"black\",\r\n                                  strokeWidth: 1,\r\n                                  dash: [6,2],\r\n                                  preventDefault: false\r\n                              }),\r\n\r\n          \"icon\": new Konva.Path({\r\n                      fill: \"grey\",\r\n                      preventDefault: false\r\n                  }),\r\n\r\n          \"rect_gradient\": new Konva.Rect({\r\n                              x: 0,\r\n                              y: 80,\r\n                              width: 80,\r\n                              height: 20,\r\n                              fillLinearGradientStartPoint: {x: 0, y: 80},\r\n                              fillLinearGradientEndPoint: {x: 100, y: 80},\r\n                              stroke: \"#D2D2D2\",\r\n                              strokeWidth: \"1px\",\r\n                              preventDefault: false\r\n                          }),\r\n\r\n          \"image\": new Konva.Image({\r\n                      stroke: \"#D2D2D2\",\r\n                      strokeWidth: 1,\r\n                      preventDefault: false\r\n                  }),\r\n      };\r\n\r\n      _this.paths_ref = {\r\n            \"zoom_icon\": \"M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM15.687,9.051h-4v2.833H8.854v4.001h2.833v2.833h4v-2.834h2.832v-3.999h-2.833V9.051z\",\r\n            \"unzoom_icon\": \"M22.646,19.307c0.96-1.583,1.523-3.435,1.524-5.421C24.169,8.093,19.478,3.401,13.688,3.399C7.897,3.401,3.204,8.093,3.204,13.885c0,5.789,4.693,10.481,10.484,10.481c1.987,0,3.839-0.563,5.422-1.523l7.128,7.127l3.535-3.537L22.646,19.307zM13.688,20.369c-3.582-0.008-6.478-2.904-6.484-6.484c0.006-3.582,2.903-6.478,6.484-6.486c3.579,0.008,6.478,2.904,6.484,6.486C20.165,17.465,17.267,20.361,13.688,20.369zM8.854,11.884v4.001l9.665-0.001v-3.999L8.854,11.884z\",\r\n            \"lightbulb\": \"M15.5,2.833c-3.866,0-7,3.134-7,7c0,3.859,3.945,4.937,4.223,9.499h5.553c0.278-4.562,4.224-5.639,4.224-9.499C22.5,5.968,19.366,2.833,15.5,2.833zM15.5,28.166c1.894,0,2.483-1.027,2.667-1.666h-5.334C13.017,27.139,13.606,28.166,15.5,28.166zM12.75,25.498h5.5v-5.164h-5.5V25.498z\"\r\n      };\r\n      \r\n  }\r\n\r\n  InCHlib.prototype._update_user_settings = function(settings){\r\n    var _this = this;\r\n    _this.update_settings(settings);\r\n  }\r\n\r\n  /**\r\n    * Read data from JSON variable.\r\n    * \r\n    * @param {object} [variable] Clustering in proper JSON format.\r\n    */\r\n  InCHlib.prototype.read_data = function(json){\r\n    var _this = this;\r\n    _this.json = json;\r\n    _this.data = _this.json.data;\r\n    console.log('asdsadasdadad')\r\n    console.log(json['data'])\r\n    var settings = {\"metadata\": {}, \"column_dendrogram\": {}, \"column_metadata\": {}};\r\n    if(json[\"metadata\"] !== undefined && _this.settings.metadata.draw){\r\n      _this.metadata = json.metadata;\r\n      settings.metadata.draw = true;\r\n    }\r\n    else{\r\n      settings.metadata.draw = false;\r\n    }\r\n    if(json[\"column_dendrogram\"] !== undefined && _this.settings.column_dendrogram.draw){\r\n      _this.column_dendrogram = json.column_dendrogram;\r\n      settings.column_dendrogram.draw = true;\r\n      settings.heatmap_header = {\"settings\": {\"rotation\": -1*_this.settings.heatmap_header.settings.rotation}};\r\n    }\r\n    else{\r\n      settings.column_dendrogram.draw = false;\r\n    }\r\n    console.log('json[\"column_metadata\"]'+_this.settings['column_metadata']);\r\n    console.log('json.column_metadata' + JSON.stringify(json.column_metadata));\r\n\r\n    if(json[\"column_metadata\"] !== undefined && _this.settings.column_metadata.draw){\r\n      _this.column_metadata = json.column_metadata;\r\n      settings.column_metadata.draw = true;\r\n    }\r\n    else{\r\n      settings.column_metadata.draw = false;\r\n    }\r\n\r\n    if(_this.json[\"alternative_data\"] !== undefined && _this.settings.alternative_data){\r\n      _this.alternative_data = _this.json.alternative_data.nodes;\r\n    }\r\n    else{\r\n      settings.alternative_data = false; \r\n    }\r\n\r\n    if((_this.data.feature_names !== undefined && _this.data.feature_names.length > 0)||(_this.metadata !== undefined && _this.metadata.feature_names !== undefined && _this.metadata.feature_names.length > 0)){\r\n      _this.settings.heatmap_header.draw = true;\r\n    }\r\n    else{\r\n      _this.settings.heatmap_header.draw = false;\r\n    }\r\n\r\n    _this._update_user_settings(settings);\r\n    _this._add_prefix();\r\n    _this.node_ids = Object.keys(_this.data.nodes);\r\n    _this.leaf_ids = _this.node_ids.filter(x => _this.data.nodes[x].count === 1);\r\n  }\r\n\r\n  /**\r\n    * Read data from JSON file.\r\n    * \r\n    * @param {string} [filename] Path to the JSON data file.\r\n    *\r\n    */\r\n  InCHlib.prototype.send_json = function(json){      \r\n    var _this = this;\r\n     _this.read_data(json);\r\n\r\n  }\r\n\r\n  InCHlib.prototype._add_prefix = function(){\r\n    var _this = this;\r\n      _this.data.nodes = _this._add_prefix_to_data(_this.data.nodes);\r\n\r\n      if(_this.settings.metadata.draw){\r\n        var metadata = {};\r\n        for(var i = 0, keys = Object.keys(_this.metadata.nodes), len = keys.length; i < len; i++){\r\n            id = [_this.settings.target, keys[i]].join(\"#\");\r\n            metadata[id] = _this.metadata.nodes[keys[i]];\r\n        }\r\n        _this.metadata.nodes = metadata;\r\n      }\r\n\r\n      if(_this.settings.alternative_data){\r\n        var alternative_data = {};\r\n        for(var i = 0, keys = Object.keys(_this.alternative_data), len = keys.length; i < len; i++){\r\n            id = [_this.settings.target, keys[i]].join(\"#\");\r\n            alternative_data[id] = _this.alternative_data[keys[i]];\r\n        }\r\n        _this.alternative_data = alternative_data;\r\n      }\r\n\r\n      if(_this.column_dendrogram){\r\n        _this.column_dendrogram.nodes = _this._add_prefix_to_data(_this.column_dendrogram.nodes);\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._add_prefix_to_data = function(data){\r\n    var _this = this;\r\n    var id, prefixed_data = {};\r\n\r\n    for(var i = 0, keys = Object.keys(data), len = keys.length; i < len; i++){\r\n        id = [_this.settings.target, keys[i]].join(\"#\");\r\n        prefixed_data[id] = data[keys[i]];\r\n        \r\n        if(prefixed_data[id][\"parent\"] !== undefined){\r\n            prefixed_data[id].parent = [_this.settings.target, prefixed_data[id].parent].join(\"#\");\r\n        }\r\n\r\n        if(prefixed_data[id][\"count\"] != 1){\r\n            prefixed_data[id].left_child = [_this.settings.target, prefixed_data[id].left_child].join(\"#\");\r\n            prefixed_data[id].right_child = [_this.settings.target, prefixed_data[id].right_child].join(\"#\");\r\n        }\r\n    }\r\n    return prefixed_data;\r\n  }\r\n\r\n  InCHlib.prototype._get_root_id = function(nodes){\r\n    var _this = this;\r\n    var root_id;\r\n      for(var i = 0, keys = Object.keys(nodes), len = keys.length; i < len; i++){\r\n          if(nodes[keys[i]][\"parent\"] === undefined){\r\n              root_id = keys[i];\r\n              break;\r\n          }\r\n      }\r\n      return root_id;\r\n  }\r\n\r\n  InCHlib.prototype._get_dimensions = function(){\r\n    var _this = this;\r\n      var dimensions = {\"data\": 0, \"metadata\": 0, \"overall\": 0}, key, keys, i;\r\n\r\n      if(_this.settings.images.draw){\r\n        dimensions[\"data\"] = _this.alternative_data[_this.leaf_ids[0]].length;\r\n      }\r\n      else{\r\n        dimensions[\"data\"] = _this.data.nodes[_this.leaf_ids[0]].features.length;\r\n      }\r\n\r\n      if(_this.settings.metadata.draw){\r\n        dimensions[\"metadata\"] = _this.metadata.nodes[_this.leaf_ids[0]].length;\r\n      }\r\n      \r\n      dimensions[\"overall\"] = dimensions[\"data\"] + dimensions[\"metadata\"];\r\n      return dimensions;\r\n  }\r\n\r\n  InCHlib.prototype._get_min_max_middle = function(data){\r\n    var _this = this;\r\n    var all = [];\r\n\r\n    for(var i = 0, len = data.length; i<len; i++){\r\n        all = all.concat(data[i].filter(function(x){return x !== null}));\r\n    }\r\n\r\n    var len = all.length;\r\n    all.sort(function(a,b){return a - b});\r\n    \r\n    var min = (_this.settings.heatmap.colors.params.min > 0)?all[_this._hack_round(len*_this.settings.heatmap.colors.params.min/100)]:Math.min.apply(null, all);\r\n    var max = (_this.settings.heatmap.colors.params.max < 100)?all[_this._hack_round(len*_this.settings.heatmap.colors.params.max/100)]:Math.max.apply(null, all)\r\n    var middle = (_this.settings.heatmap.colors.params.middle != 50)?all[_this._hack_round(len*_this.settings.heatmap.colors.params.middle/100)]:all[_this._hack_round((len-1)/2)]\r\n    return [min, max, middle];\r\n  }\r\n\r\n  InCHlib.prototype._get_data_min_max_middle = function(data, axis, section){\r\n    var _this = this;\r\n    if(axis === undefined){\r\n        axis = \"column\";\r\n    }\r\n\r\n    if(section === undefined){\r\n      var section = \"heatmap\";\r\n    }\r\n    var data2descs = {}\r\n\r\n    var i, j, value, len, columns;\r\n    var data_length = data[0].length;\r\n\r\n    if(axis == \"column\"){\r\n        columns = [];\r\n\r\n        for(i = 0; i<data_length; i++){\r\n            columns.push([]);\r\n        }\r\n\r\n        for(i = 0; i<data.length; i++){\r\n            for(j = 0; j < data_length; j++){\r\n                value = data[i][j];\r\n                if(value !== null && value !== undefined){\r\n                    columns[j].push(value);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else{\r\n      columns = data.slice(0);\r\n    }\r\n\r\n    var data_min_max_middle = [], min, max, middle;\r\n    \r\n    if(_this.settings[section].value_type === \"value\"){\r\n      for(i = 0; i<columns.length; i++){\r\n        data2descs[i] = $.extend({}, _this.settings[section].colors.params);  \r\n      }\r\n    }\r\n    else{\r\n      for(i = 0; i<columns.length; i++){\r\n          if(_this._is_number(columns[i][0])){\r\n              columns[i] = columns[i].map(parseFloat);\r\n              columns[i].sort(function(a,b){return a - b});\r\n\r\n              len = columns[i].length;\r\n              max = (_this.settings[section].colors.params.max < 100)?columns[i][_this._hack_round(len*_this.settings[section].colors.params.max/100) - 1]:Math.max.apply(null, columns[i]);\r\n              min = (_this.settings[section].colors.params.min > 0)?columns[i][_this._hack_round(len*_this.settings[section].colors.params.min/100)]:Math.min.apply(null, columns[i]);\r\n              middle = (_this.settings[section].colors.params.middle != 50)?columns[i][_this._hack_round(len*_this.settings[section].colors.params.middle/100)]:columns[i][_this._hack_round((len-1)/2)];\r\n              \r\n              data2descs[i] = {\"min\": min, \"max\": max, \"middle\": middle};\r\n          }\r\n          else{\r\n              var hash_object = _this._get_hash_object(columns[i]);\r\n              min = 0;\r\n              max = _this._hack_size(hash_object)-1;\r\n              middle = max/2;\r\n              data2descs[i] = {\"min\": min, \"max\": max, \"middle\": middle, \"str2num\": hash_object};\r\n          }\r\n      }\r\n    }\r\n\r\n\r\n    return data2descs;\r\n  }\r\n\r\n  InCHlib.prototype._get_hash_object = function(array){\r\n    var _this = this;\r\n      var i, count=0, hash_object = {};\r\n\r\n      for(i = 0; i<array.length; i++){\r\n          if(hash_object[array[i]] === undefined){\r\n              hash_object[array[i]] = count;\r\n              count++;\r\n          }\r\n      }\r\n      return hash_object;\r\n  }\r\n\r\n  InCHlib.prototype._get_max_length = function(items){\r\n    var _this = this;\r\n      var lengths = items.map(function(x){return (\"\"+x).length});\r\n      var max = Math.max.apply(Math, lengths);\r\n      return max;\r\n  }\r\n\r\n  InCHlib.prototype._get_max_value_length = function(){\r\n    var _this = this;\r\n    var max_length = 0;\r\n    var node_data, key;\r\n\r\n    if(_this.settings.images.draw){\r\n      max_length = 0;\r\n    }\r\n    else{\r\n      if(_this.settings.alternative_data){\r\n        var values = _this.current_leaf_ids.map(v => _this.alternative_data[v]);\r\n      }\r\n      else{\r\n        var values = _this.current_leaf_ids.map(v => _this.data.nodes[v].features);\r\n      }\r\n\r\n      if(_this.settings.metadata.draw){\r\n        values = values.concat(_this.current_leaf_ids.map(v => _this.metadata.nodes[v]));\r\n      }\r\n\r\n      for(var i = 0, len = values.length; i < len; i++){\r\n        /*value = values[i];*/\r\n        node_data = values[i];\r\n        for(var j = 0, len_2 = node_data.length; j < len_2; j++){\r\n            if((\"\"+node_data[j]).length > max_length){\r\n                max_length = (\"\"+node_data[j]).length;\r\n            }\r\n        }\r\n      }\r\n    }\r\n    return max_length;\r\n  }\r\n\r\n  InCHlib.prototype._preprocess_heatmap_data = function(){\r\n    var _this = this;\r\n      var heatmap_array = [], i, j = 0, keys, key, len, data, node;\r\n\r\n      for(i = 0, len = _this.node_ids.length; i < len; i++){\r\n          key = _this.node_ids[i];\r\n          node = _this.data.nodes[key];\r\n          if(node.count == 1){\r\n              data = node.features;\r\n              heatmap_array.push([key]);\r\n              heatmap_array[j].push.apply(heatmap_array[j], data);\r\n              if(_this.settings.metadata.draw){\r\n                  heatmap_array[j].push.apply(heatmap_array[j], _this.metadata.nodes[key]);\r\n              }\r\n              j++;\r\n          }\r\n      }\r\n      return heatmap_array;\r\n  }\r\n\r\n  InCHlib.prototype._reorder_heatmap = function(column_index){\r\n    var _this = this;\r\n      _this.leaves_y_coordinates = {};\r\n      column_index++;\r\n      \r\n      if(_this.ordered_by_index == column_index){\r\n          _this.heatmap_array.reverse();\r\n      }\r\n      else{\r\n          if(_this._is_number(_this.heatmap_array[0][column_index])){\r\n            _this.heatmap_array.sort(function(a,b){return (a[column_index] == null)?-1:(b[column_index] == null)?1:a[column_index] - b[column_index]});\r\n          }\r\n          else{\r\n            _this.heatmap_array.sort(function(a,b){return (a[column_index] == null)?-1:(b[column_index] == null)?1:(a[column_index] > b[column_index])?1:(a[column_index] < b[column_index])?-1:0});\r\n          }\r\n      }\r\n\r\n      var y = _this.top_heatmap_distance;\r\n\r\n      for(var i = 0, len = _this.heatmap_array.length; i<len; i++){\r\n          _this.leaves_y_coordinates[_this.heatmap_array[i][0]] = y;\r\n          y += _this.pixels_for_leaf;\r\n      }\r\n\r\n      _this.ordered_by_index = column_index;\r\n  }\r\n\r\n  /**\r\n    * Draw already read data (from file/JSON variable).\r\n    */\r\n  InCHlib.prototype.draw = function(){\r\n    console.time(\"DRAW\");\r\n    var _this = this;\r\n    _this.zoomed_clusters = {\"row\": [], \"column\": []};\r\n    _this.last_highlighted_cluster = null;\r\n    _this.current_object_ids = [];\r\n    _this.current_column_ids = [];\r\n    _this.highlighted_rows_y = [];\r\n    _this.heatmap_array = _this._preprocess_heatmap_data();\r\n    _this.on_features = {\"data\":[], \"metadata\":[], \"count_column\": []};\r\n\r\n    _this.column_metadata_rows = (_this.settings.column_metadata.draw)?_this.column_metadata.features.length:0;\r\n    _this.column_metadata_height = _this.column_metadata_rows * _this.settings.column_metadata.row_height;\r\n\r\n    if(_this.settings.heatmap.draw){\r\n      _this.last_column = null;\r\n      _this.dimensions = _this._get_dimensions();\r\n      _this._set_heatmap_settings();\r\n    }\r\n    else{\r\n      _this.dimensions = {\"data\": 0, \"metadata\": 0, \"overall\": 0};\r\n      _this.settings.heatmap_header.draw = false;\r\n      _this.settings.column_dendrogram.draw = false;\r\n    }\r\n    _this._adjust_leaf_size(_this.heatmap_array.length);\r\n\r\n    if(_this.settings.row_ids.draw){\r\n      _this._get_row_id_size();\r\n    }\r\n    else{\r\n      _this.right_margin = 100;\r\n    }\r\n\r\n    _this._adjust_horizontal_sizes();\r\n    _this.top_heatmap_distance = _this.header_height + _this.column_metadata_height + _this.settings.column_metadata.row_height/2;\r\n\r\n    if(_this.settings.column_dendrogram.draw && _this.heatmap_header){\r\n        _this.footer_height = 150;\r\n    }\r\n\r\n    _this.stage = new Konva.Stage({\r\n        container: _this.settings.target,\r\n    });\r\n\r\n    _this.settings.height = _this.heatmap_array.length*_this.pixels_for_leaf+_this.header_height+_this.footer_height;\r\n    _this.stage.setWidth(_this.settings.width);\r\n    _this.stage.setHeight(_this.settings.height);\r\n    _this._draw_stage_layer();\r\n    \r\n    if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw){\r\n      _this.timer = 0;\r\n      _this._draw_dendrogram_layers();\r\n    }\r\n\r\n    if(_this.settings.dendrogram.draw){\r\n      console.time(\"DENDROGRAM\")\r\n      _this.root_id = _this._get_root_id(_this.data.nodes);\r\n      _this._draw_row_dendrogram(_this.root_id);\r\n      console.timeEnd(\"DENDROGRAM\")\r\n    }\r\n    else{\r\n      _this._reorder_heatmap(0);\r\n      _this.ordered_by_index = 0;\r\n    }\r\n\r\n    if(_this.settings.column_dendrogram.draw){\r\n      _this.column_root_id = _this._get_root_id(_this.column_dendrogram.nodes);\r\n      _this.nodes2columns = false;\r\n      _this.columns_start_index = 0;\r\n      _this._draw_column_dendrogram(_this.column_root_id);\r\n    }\r\n\r\n    if(_this.settings.images.draw){\r\n      _this.path2image = {};\r\n      _this.path2image_obj = {};\r\n      _this.image_counter = 0;\r\n    }\r\n\r\n    _this._draw_heatmap();\r\n    _this._draw_heatmap_header();\r\n    _this._draw_navigation();\r\n    _this.highlight_rows(_this.settings.highlighted_rows);\r\n    console.timeEnd(\"DRAW\");\r\n    document.getElementById(\"spinner\").style.display=\"none\";\r\n    $('html, body').animate({ scrollTop: 0 }, 'fast');\r\n  }\r\n\r\n  InCHlib.prototype._draw_dendrogram_layers = function(){\r\n    var _this = this;\r\n    _this.cluster_layer = new Konva.Layer();\r\n    _this.dendrogram_hover_layer = new Konva.Layer();\r\n    _this.stage.add(_this.cluster_layer, _this.dendrogram_hover_layer);\r\n\r\n    _this.cluster_layer.on(\"click\", function(evt){\r\n        _this.unhighlight_cluster();\r\n        _this.unhighlight_column_cluster();\r\n        _this.events.empty_space_onclick(evt);\r\n    });\r\n  };\r\n\r\n  InCHlib.prototype._get_node_levels = function(nodes){\r\n    var _this = this;\r\n\r\n    for(var i = 0, keys=Object.keys(nodes), len=keys.length; i<len; i++){\r\n      var key = keys[i];\r\n      var level = 1\r\n      if(nodes[key].count == 1){\r\n        nodes[key].level = level;\r\n        level++;\r\n\r\n        var node = nodes[key];\r\n        while(\"parent\" in node){\r\n          var parent_id = node.parent;\r\n          if(nodes[parent_id].level == undefined || nodes[parent_id].level < level){\r\n            nodes[parent_id].level = level;\r\n          }\r\n          level++;\r\n          node = nodes[parent_id];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._draw_row_dendrogram = function(node_id){\r\n    var _this = this;\r\n    _this.dendrogram_layer = new Konva.Layer();\r\n    var node = _this.data.nodes[node_id];\r\n    var count = node.count;\r\n\r\n    _this.distance_step = _this.distance/node.distance;\r\n    _this.leaves_y_coordinates = {};\r\n    _this.objects2leaves = {};\r\n\r\n    _this._adjust_leaf_size(count);\r\n    _this.settings.height = count*_this.pixels_for_leaf+_this.header_height+_this.footer_height+_this.column_metadata_height;\r\n    \r\n    _this.stage.setWidth(_this.settings.width);\r\n    _this.stage.setHeight(_this.settings.height);\r\n\r\n    var current_left_count = 0;\r\n    var current_right_count = 0;\r\n    var y = _this.header_height + _this.column_metadata_height + _this.pixels_for_leaf/2;\r\n    \r\n    if(node.count > 1){\r\n        current_left_count = _this.data.nodes[node.left_child].count;\r\n        current_right_count = _this.data.nodes[node.right_child].count;\r\n    }\r\n    if(_this.settings.dendrogram.unified_distance){\r\n      _this._get_node_levels(_this.data.nodes);\r\n      _this.unified_distance_step = _this.data.nodes[node_id].distance/_this.data.nodes[node_id].level;\r\n    }\r\n\r\n    var node_options = {node_id: node_id, current_left_count: current_left_count, current_right_count: current_right_count, x: 0, y: y};\r\n    var nodes = [[node, node_options]];\r\n    \r\n    while(nodes.length > 0){\r\n      var to_draw = [];\r\n      for(var i = 0, len=nodes.length; i<len; i++){\r\n        to_draw = to_draw.concat(_this._draw_row_dendrogram_node(nodes[i][0], nodes[i][1]));\r\n      }\r\n      nodes = to_draw.map(function(x, i){return x});\r\n    }\r\n\r\n    _this.middle_item_count = (_this.min_item_count+_this.max_item_count)/2;\r\n    _this._draw_distance_scale(node.distance);\r\n    _this.stage.add(_this.dendrogram_layer);\r\n    _this.current_leaf_ids = Object.keys(_this.leaves_y_coordinates);\r\n\r\n    _this._bind_dendrogram_hover_events(_this.dendrogram_layer);\r\n    \r\n    _this.dendrogram_layer.on(\"click\", function(evt){\r\n        _this._dendrogram_layers_click(this, evt);\r\n    });\r\n    \r\n    _this.dendrogram_layer.on(\"mousedown\", function(evt){\r\n      _this._dendrogram_layers_mousedown(this, evt);\r\n    });\r\n\r\n    _this.dendrogram_layer.on(\"mouseup\", function(evt){\r\n      _this._dendrogram_layers_mouseup(this, evt);\r\n    });\r\n  }\r\n\r\n  InCHlib.prototype._draw_row_dendrogram_node = function(node, node_options){\r\n    var _this = this;\r\n    var to_draw = [];\r\n    \r\n    if(node.color !== undefined){\r\n      node_options.color = node.color;\r\n    }\r\n    else if(node_options.color !== undefined){\r\n      node.color = node_options.color;\r\n    }\r\n\r\n    if(node.count > 1){\r\n      var node_neighbourhood = _this._get_node_neighbourhood(node, _this.data.nodes);\r\n      var right_child = _this.data.nodes[node.right_child];\r\n      var left_child = _this.data.nodes[node.left_child];\r\n      var y1 = _this._get_y1(node_neighbourhood, node_options.current_left_count, node_options.current_right_count);\r\n      var y2 = _this._get_y2(node_neighbourhood, node_options.current_left_count, node_options.current_right_count);\r\n      var left_distance = _this.distance;\r\n      var right_distance = _this.distance;\r\n\r\n      if(_this.settings.dendrogram.unified_distance){\r\n        var x1 = _this._hack_round(_this.distance - node.level*_this.distance_step*_this.unified_distance_step);\r\n        \r\n        if(_this.data.nodes[node.left_child].count > 1){\r\n          left_distance = _this.distance - _this.data.nodes[node.left_child].level*_this.distance_step*_this.unified_distance_step;\r\n        }\r\n\r\n        if(_this.data.nodes[node.right_child].count > 1){\r\n          right_distance = _this.distance - _this.data.nodes[node.right_child].level*_this.distance_step*_this.unified_distance_step;\r\n        }\r\n      }\r\n      else{\r\n        var x1 = _this._hack_round(_this.distance - _this.distance_step*node.distance); \r\n        left_distance = _this.distance - _this.distance_step*_this.data.nodes[node.left_child].distance;\r\n        right_distance = _this.distance - _this.distance_step*_this.data.nodes[node.right_child].distance;\r\n\r\n      }\r\n      x1 = (x1 == 0)? 2: x1;          \r\n      var x2 = x1;\r\n\r\n      if(right_child.count == 1){\r\n          y2 = y2 + _this.pixels_for_leaf/2;\r\n      }\r\n\r\n      _this.dendrogram_layer.add(_this._draw_horizontal_path(node_options.node_id, x1, y1, x2, y2, left_distance, right_distance, node_options.color));\r\n      to_draw.push([left_child, {node_id: node.left_child, current_left_count: node_options.current_left_count - node_neighbourhood.left_node.right_count, current_right_count: node_options.current_right_count + node_neighbourhood.left_node.right_count, x: left_distance, y: y1, color: node_options.color}]);\r\n      to_draw.push([right_child, {node_id: node.right_child, current_left_count: node_options.current_left_count + node_neighbourhood.right_node.left_count, current_right_count: node_options.current_right_count - node_neighbourhood.right_node.left_count, x: right_distance, y: y2, color: node_options.color}]);\r\n    }\r\n    else{\r\n      var objects = node.objects;\r\n      _this.leaves_y_coordinates[node_options.node_id] = node_options.y;\r\n\r\n      for(var i = 0, len = objects.length; i<len; i++){\r\n          _this.objects2leaves[objects[i]] = node_options.node_id;\r\n      }\r\n\r\n      var count = node.objects.length;\r\n      if(count<_this.min_item_count){\r\n          _this.min_item_count = count;\r\n      }\r\n      if(count>_this.max_item_count){\r\n          _this.max_item_count = count;\r\n      }\r\n    }\r\n    return to_draw;\r\n  }\r\n\r\n  InCHlib.prototype._draw_stage_layer = function(){\r\n    var _this = this;\r\n      _this.stage_layer = new Konva.Layer();\r\n      var stage_rect = new Konva.Rect({\r\n                                  x: 0,\r\n                                  y: 0,\r\n                                  width: _this.settings.width,\r\n                                  height: _this.settings.height,\r\n                                  opacity: 0,\r\n                                  preventDefault: false\r\n                              });\r\n      _this.stage_layer.add(stage_rect);\r\n      stage_rect.moveToBottom();\r\n      _this.stage.add(_this.stage_layer);\r\n\r\n\r\n      _this.stage_layer.on(\"click\", function(evt){\r\n          _this.unhighlight_cluster();\r\n          _this.unhighlight_column_cluster();\r\n          _this.events.empty_space_onclick(evt);\r\n      });\r\n  }\r\n\r\n  InCHlib.prototype._draw_column_dendrogram = function(node_id){\r\n    var _this = this;\r\n      _this.column_dendrogram_layer = new Konva.Layer();\r\n      _this.column_x_coordinates = {};\r\n      var node = _this.column_dendrogram.nodes[node_id];\r\n      _this.current_column_count = node.count;\r\n      _this.vertical_distance = _this.header_height;\r\n      _this.vertical_distance_step = _this.vertical_distance/node.distance;\r\n\r\n      _this.last_highlighted_column_cluster = null;\r\n      var current_left_count = _this.column_dendrogram.nodes[node.left_child].count;\r\n      var current_right_count = _this.column_dendrogram.nodes[node.right_child].count;\r\n      _this._draw_column_dendrogram_node(node_id, node, current_left_count, current_right_count, 0, 0);\r\n      _this.stage.add(_this.column_dendrogram_layer);\r\n\r\n      if(!_this.nodes2columns){\r\n        _this.nodes2columns = _this._get_nodes2columns();\r\n      };\r\n      \r\n      _this._bind_dendrogram_hover_events(_this.column_dendrogram_layer);\r\n\r\n      _this.column_dendrogram_layer.on(\"click\", function(evt){\r\n          _this._column_dendrogram_layers_click(this, evt);\r\n      });\r\n\r\n      _this.column_dendrogram_layer.on(\"mousedown\", function(evt){\r\n        _this._column_dendrogram_layers_mousedown(this, evt);\r\n      });\r\n\r\n      _this.column_dendrogram_layer.on(\"mouseup\", function(evt){\r\n        _this._dendrogram_layers_mouseup(this, evt);\r\n      });\r\n  }\r\n\r\n  InCHlib.prototype._get_nodes2columns = function(){\r\n    var _this = this;\r\n    var coordinates = [];\r\n    var coordinates2nodes = {};\r\n    var nodes2columns = {};\r\n    var key, value, i;\r\n\r\n    for(i = 0, keys = Object.keys(_this.column_x_coordinates), len = keys.length; i < len; i++){\r\n      key = keys[i];\r\n      value = _this.column_x_coordinates[key];\r\n      coordinates2nodes[value] = key;\r\n      coordinates.push(value);\r\n    }\r\n    coordinates.sort(function(a,b){return a - b});\r\n\r\n    for(i = 0, len = coordinates.length; i<len; i++){\r\n      nodes2columns[coordinates2nodes[coordinates[i]]] = i;\r\n    }\r\n    return nodes2columns;\r\n  }\r\n\r\n  InCHlib.prototype._bind_dendrogram_hover_events = function(layer){\r\n    var _this = this;\r\n\r\n      layer.on(\"mouseover\", function(evt){\r\n          _this._dendrogram_layers_mouseover(this, evt);\r\n      });\r\n\r\n      layer.on(\"mouseout\", function(evt){\r\n          _this._dendrogram_layers_mouseout(this, evt);\r\n      });    \r\n  }\r\n\r\n  InCHlib.prototype._delete_layers = function(to_destroy, to_remove_children){\r\n    var _this = this;\r\n      for(var i = 0, len = to_destroy.length; i < len; i++){\r\n        if(to_destroy[i] !== undefined){\r\n          to_destroy[i].destroy();\r\n        }\r\n      }\r\n\r\n      if(to_remove_children !== undefined){\r\n        for(var i = 0, len = to_remove_children.length; i < len; i++){\r\n          to_remove_children[i].removeChildren();\r\n          to_remove_children[i].draw();\r\n        }\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._delete_all_layers = function(){\r\n    var _this = this;\r\n      _this.stage.destroyChildren();\r\n  }\r\n\r\n  InCHlib.prototype._adjust_leaf_size = function(leaves){\r\n    var _this = this;\r\n      _this.pixels_for_leaf = (_this.settings.max_height-_this.header_height-_this.footer_height-_this.column_metadata_height-5)/leaves;\r\n\r\n      if(_this.settings.row_ids.draw && _this.settings.row_ids.fixed_size){\r\n        _this.settings.heatmap.row_height.min = _this.settings.row_ids.fixed_size + 2;\r\n      }\r\n\r\n      if(_this.pixels_for_leaf > _this.settings.heatmap.row_height.max){\r\n          _this.pixels_for_leaf = _this.settings.heatmap.row_height.max;\r\n      }\r\n\r\n      if(_this.settings.heatmap.row_height.min > _this.pixels_for_leaf){\r\n          _this.pixels_for_leaf = _this.settings.heatmap.row_height.min;\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._adjust_horizontal_sizes = function(dimensions){\r\n      var _this = this;\r\n      if(_this.right_margin === undefined){\r\n        _this.right_margin = 100;\r\n      }\r\n      if(dimensions === undefined){\r\n        dimensions = _this._get_visible_count();\r\n      }\r\n      \r\n      if(_this.settings.dendrogram.draw){\r\n        if(_this.settings.heatmap.draw){\r\n          _this.heatmap_width = (_this.settings.width - _this.right_margin - _this.dendrogram_heatmap_distance)*_this.settings.heatmap.relative_width;\r\n        }\r\n        else{\r\n          _this.heatmap_width = 0;\r\n        }\r\n        \r\n        _this.pixels_for_dimension = (dimensions > 0 && _this.heatmap_width > 0)?_this.heatmap_width/dimensions:0;\r\n\r\n        if(_this.pixels_for_dimension === 0){\r\n          _this.heatmap_width = 0;\r\n        }\r\n\r\n        _this.distance = _this.settings.width - _this.heatmap_width - _this.right_margin;\r\n        _this.heatmap_distance = _this.distance + _this.dendrogram_heatmap_distance;\r\n      }\r\n      else{\r\n        _this.heatmap_width = _this.settings.width - _this.right_margin*2;\r\n        _this.distance = _this.right_margin;\r\n        _this.heatmap_distance = _this.distance;\r\n        _this.pixels_for_dimension = dimensions?_this.heatmap_width/dimensions:0;\r\n      }\r\n\r\n      if(_this.settings.heatmap.column_width.max && _this.settings.heatmap.column_width.max < _this.pixels_for_dimension){\r\n        _this.pixels_for_dimension = _this.settings.heatmap.column_width.max;\r\n        _this.heatmap_width = dimensions*_this.pixels_for_dimension;\r\n\r\n        if(_this.settings.dendrogram.draw){\r\n          _this.distance = _this.settings.width - _this.heatmap_width - _this.right_margin - _this.dendrogram_heatmap_distance;\r\n          _this.heatmap_distance = _this.distance + _this.dendrogram_heatmap_distance;\r\n        }\r\n        else{\r\n          _this.distance = _this._hack_round((_this.settings.width - _this.heatmap_width)/2);\r\n          _this.right_margin = _this.distance;\r\n          _this.heatmap_distance = _this.distance;\r\n        }\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._set_color_settings = function(){\r\n    var _this = this;\r\n    var data = [];\r\n    for(i = 0, len = _this.leaf_ids.length; i < len; i++){\r\n        data.push(_this.data.nodes[_this.leaf_ids[i]].features);\r\n    }\r\n    \r\n    _this.data_descs = {};\r\n    if(_this.settings.heatmap.colors.independent_columns){\r\n        _this.data_descs = _this._get_data_min_max_middle(data, \"column\", \"heatmap\");\r\n    }\r\n    else{\r\n        var min_max_middle = _this._get_min_max_middle(data);\r\n        for(i = 0; i < _this.dimensions[\"data\"]; i++){\r\n          _this.data_descs[i] = {\"min\": min_max_middle[0], \"max\": min_max_middle[1], \"middle\": min_max_middle[2]};\r\n        }\r\n    }\r\n\r\n    if(_this.settings.metadata.draw){\r\n        var metadata = [];\r\n\r\n        for(i = 0, len = _this.leaf_ids.length; i < len; i++){\r\n            metadata.push(_this.metadata.nodes[_this.leaf_ids[i]]);\r\n        }\r\n        _this.metadata_descs = _this._get_data_min_max_middle(metadata, \"column\", \"metadata\");\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._set_heatmap_settings = function(){\r\n    var _this = this;\r\n      var i, keys, key, len, node;\r\n\r\n      _this.header = [];\r\n      for(i = 0; i<_this.dimensions[\"overall\"]; i++){\r\n          _this.header.push(\"\");\r\n      }\r\n\r\n      if(_this.settings.heatmap.columns_order.length === 0 || _this.settings.heatmap.columns_order.length !== _this.dimensions[\"data\"]){\r\n         _this.settings.heatmap.columns_order = [];\r\n        for(i = 0; i < _this.dimensions[\"data\"]; i++){\r\n          _this.settings.heatmap.columns_order.push(i);\r\n        }\r\n      }\r\n\r\n      if(_this.settings.metadata.draw){\r\n        for(i = _this.dimensions[\"data\"]; i < _this.dimensions[\"data\"] + _this.dimensions[\"metadata\"]; i++){\r\n          _this.settings.heatmap.columns_order.push(i);\r\n        } \r\n      }\r\n\r\n      if(_this.settings.count_column.draw){\r\n          _this.settings.heatmap.columns_order.push(_this.settings.heatmap.columns_order.length);\r\n      }\r\n\r\n      _this.features = {};\r\n\r\n      for(i=0; i<_this.settings.heatmap.columns_order.length; i++){\r\n          _this.features[i] = true;\r\n      }\r\n\r\n      _this._set_on_features();\r\n\r\n      _this.heatmap_header = false;\r\n      _this.metadata_header = false;\r\n      _this.current_label = null;\r\n\r\n      _this._set_color_settings();\r\n\r\n      if(_this.settings.alternative_data && _this.json.alternative_data.feature_names !== undefined){\r\n        _this.heatmap_header = _this.json.alternative_data.feature_names;\r\n      }\r\n      else if(_this.data.feature_names !== undefined){\r\n        _this.heatmap_header = _this.data.feature_names;\r\n      }\r\n\r\n      if(_this.heatmap_header){\r\n        for(i=0; i<_this.dimensions[\"data\"]; i++){\r\n            _this.header[i] = _this.heatmap_header[_this.on_features[\"data\"][i]].trim(\" \");\r\n        }\r\n      }\r\n\r\n      if(_this.settings.metadata.draw){\r\n\r\n          if(_this.metadata.feature_names){\r\n              _this.metadata_header = _this.metadata.feature_names;\r\n\r\n              for(i=0; i<_this.dimensions[\"metadata\"]; i++){\r\n                  _this.header[_this.dimensions[\"data\"]+i] = _this.metadata_header[i].trim(\" \");\r\n              }\r\n          }\r\n      }\r\n\r\n      if(_this.settings.column_metadata.draw){\r\n        if(_this.column_metadata.feature_names !== undefined){\r\n          _this.column_metadata_header = _this.column_metadata.feature_names;\r\n        }\r\n      }\r\n\r\n      if(_this.settings.count_column.draw){\r\n          _this.max_item_count = 1;\r\n          _this.min_item_count = 1;\r\n          _this.dimensions[\"overall\"]++;\r\n          _this.header.push(\"Count\");\r\n      }\r\n\r\n      _this._adjust_horizontal_sizes();\r\n      _this.top_heatmap_distance = _this.header_height + _this.column_metadata_height + _this.settings.column_metadata.row_height/2;\r\n  }\r\n\r\n  InCHlib.prototype._set_on_features = function(features){\r\n    var _this = this;\r\n    var key;\r\n    if(features === undefined){\r\n      var features = [];\r\n      for(var i = 0, keys = Object.keys(_this.features), len = keys.length; i < len; i++){\r\n        key = keys[i];\r\n        if(_this.features[key]){\r\n          features.push(_this.settings.heatmap.columns_order[i]);\r\n        }\r\n      }\r\n    }\r\n\r\n    _this.on_features = {\"data\":[], \"metadata\":[], \"count_column\":[]}\r\n    \r\n    for(var i = 0, len = features.length; i < len; i++){\r\n      key = features[i];\r\n      if(key < _this.dimensions[\"data\"]){\r\n          _this.on_features[\"data\"].push(key);\r\n      }\r\n      else if(key <= _this.dimensions[\"data\"] + _this.dimensions[\"metadata\"] - 1){\r\n            _this.on_features[\"metadata\"].push(key-_this.dimensions[\"data\"]);\r\n      }\r\n      else{\r\n        _this.on_features[\"count_column\"].push(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._draw_heatmap = function(){\r\n    var _this = this;\r\n    console.time(\"HEATMAP\");\r\n    if(!_this.settings.heatmap.draw){\r\n        return;\r\n    }\r\n\r\n    var heatmap_row, row_id, col_number, col_label, row_values, y;\r\n    _this.heatmap_layer = new Konva.Layer();\r\n    _this.heatmap_overlay = new Konva.Layer();\r\n\r\n    _this.current_draw_values = true;\r\n    _this.max_value_length = _this._get_max_value_length();\r\n    _this.value_font_size = _this._get_font_size(_this.max_value_length, _this.pixels_for_dimension, _this.pixels_for_leaf, 12);\r\n\r\n    if(_this.value_font_size < 4){\r\n        _this.current_draw_values = false;\r\n    }\r\n\r\n    var x1 = _this.heatmap_distance;\r\n\r\n    for(var i = 0, len = _this.current_leaf_ids.length; i < len; i++){\r\n        key = _this.current_leaf_ids[i];\r\n        y = _this.leaves_y_coordinates[key];\r\n        heatmap_row = _this._draw_heatmap_row(key, x1, y);\r\n        _this.heatmap_layer.add(heatmap_row);\r\n        _this._bind_row_events(heatmap_row);\r\n    }\r\n\r\n    if(_this.settings.column_metadata.draw){\r\n        _this.column_metadata_descs = _this._get_data_min_max_middle(_this.column_metadata.features, \"row\");\r\n        y1 = _this.header_height + 0.5*_this.settings.column_metadata.row_height;\r\n\r\n        for(var i = 0, len = _this.column_metadata.features.length; i < len; i++){\r\n            heatmap_row = _this._draw_column_metadata_row(_this.column_metadata.features[i], i, x1, y1);\r\n            _this.heatmap_layer.add(heatmap_row);\r\n            _this._bind_row_events(heatmap_row);\r\n            y1 = y1 + _this.settings.column_metadata.row_height;\r\n        }\r\n    }\r\n    \r\n    if(_this.settings.row_ids.draw){\r\n        _this._draw_row_ids();\r\n    }\r\n\r\n    _this.highlighted_rows_layer = new Konva.Layer();\r\n    _this.stage.add(_this.heatmap_layer, _this.heatmap_overlay, _this.highlighted_rows_layer);\r\n\r\n    _this.highlighted_rows_layer.moveToTop();\r\n    _this.row_overlay = _this.objects_ref.heatmap_line.clone();\r\n    _this.column_overlay = _this.objects_ref.heatmap_line.clone();\r\n\r\n    _this.heatmap_layer.on(\"mouseout\", function(evt){\r\n        _this.last_header = null;\r\n        _this.heatmap_overlay.destroyChildren();\r\n        _this.heatmap_overlay.draw();\r\n        _this.events.heatmap_onmouseout(evt);\r\n    });\r\n    console.timeEnd(\"HEATMAP\");\r\n  }\r\n\r\n  InCHlib.prototype._draw_heatmap_row = function(node_id, x1, y1){\r\n    var _this = this;\r\n    var node = _this.data.nodes[node_id];\r\n    var row = new Konva.Group({id:node_id});\r\n    var x2, y2, color, line, value, text, text_value, col_index;\r\n    \r\n    for (var i = 0, len = _this.on_features[\"data\"].length; i < len; i++){\r\n        col_index = _this.on_features[\"data\"][i];\r\n        x2 = x1 + _this.pixels_for_dimension;\r\n        y2 = y1;\r\n        value = node.features[col_index];\r\n        text_value = value;\r\n\r\n        if(_this.settings.alternative_data){\r\n            text_value = _this.alternative_data[node_id][col_index];\r\n        }\r\n        \r\n        if(_this.settings.images.draw && ![undefined, null, \"\"].includes(text_value)){\r\n          value = null;\r\n          var filepath = _this.settings.images.path.dir + text_value + _this.settings.images.path.ext;\r\n          filepath = escape(filepath);\r\n\r\n\r\n          if(_this.path2image[text_value] === undefined){\r\n            var image_obj = new Image();\r\n            image_obj.src = filepath;\r\n            \r\n            image_obj.onload = function(){\r\n              _this.image_counter++;\r\n\r\n              if(_this.image_counter === Object.keys(_this.path2image).length){\r\n                _this.heatmap_layer.draw();\r\n              }\r\n\r\n            };\r\n\r\n            _this.path2image_obj[text_value] = image_obj;\r\n            _this.path2image[text_value] = _this.objects_ref.image.clone({image: _this.path2image_obj[text_value]});\r\n          }\r\n\r\n          var image = _this.path2image[text_value].clone({width: _this.pixels_for_dimension,\r\n                                                     height: _this.pixels_for_leaf,\r\n                                                     x:x1,\r\n                                                     y:y1 - _this._hack_round(0.5*_this.pixels_for_leaf),\r\n                                                     points:[x1, y1, x1 + _this.pixels_for_dimension, null],\r\n                                                     column: [\"d\", col_index].join(\"_\"),\r\n                                                     value: text_value\r\n                                                   });\r\n          row.add(image);\r\n        }\r\n               \r\n        else if(value !== null){\r\n          color = _this._get_color_for_value(value, _this.data_descs[col_index][\"min\"], _this.data_descs[col_index][\"max\"], _this.data_descs[col_index][\"middle\"], _this.settings.heatmap.colors.scale);\r\n          text_value = text_value.toString();\r\n          line = _this.objects_ref.heatmap_line.clone({\r\n              stroke: color,\r\n              points: [x1, y1, x2, y2],\r\n              value: text_value,\r\n              column: [\"d\", col_index].join(\"_\"),\r\n              strokeWidth: _this.pixels_for_leaf,\r\n          });\r\n          row.add(line);\r\n\r\n          if(_this.current_draw_values){\r\n            text = _this.objects_ref.heatmap_value.clone({\r\n                x: _this._hack_round((x1 + x2)/2-(text_value).length*(_this.value_font_size/4)),\r\n                y: _this._hack_round(y1-_this.value_font_size/2),\r\n                fontSize: _this.value_font_size,\r\n                text: text_value,\r\n            });\r\n            row.add(text);\r\n          }\r\n        }\r\n        \r\n\r\n        x1 = x2;\r\n    }\r\n\r\n    if(_this.settings.metadata.draw){\r\n        var metadata = _this.metadata.nodes[node_id];\r\n\r\n        if(metadata !== undefined){\r\n          var colors_predefined = Object.keys(_this.settings.metadata.colors.value2color).length > 0;\r\n\r\n          for (var i = 0, len = _this.on_features[\"metadata\"].length; i < len; i++){\r\n              col_index = _this.on_features[\"metadata\"][i];\r\n              value = metadata[col_index];\r\n              x2 = x1 + _this.pixels_for_dimension;\r\n              y2 = y1;\r\n\r\n              if(value !== null && value !== undefined){\r\n                text_value = value;\r\n                \r\n                if(_this.metadata_descs[col_index][\"str2num\"] !== undefined){\r\n                    value = _this.metadata_descs[col_index][\"str2num\"][value];\r\n                }\r\n                if(colors_predefined){\r\n                  color = _this.settings.metadata.colors.value2color[text_value];\r\n                  if(color === undefined){\r\n                    color = _this.settings.metadata.colors.default;\r\n                  }\r\n                }\r\n                else{\r\n                  color = _this._get_color_for_value(value, _this.metadata_descs[col_index][\"min\"], _this.metadata_descs[col_index][\"max\"], _this.metadata_descs[col_index][\"middle\"], _this.settings.metadata.colors.scale);    \r\n                }\r\n                line = _this.objects_ref.heatmap_line.clone({\r\n                        stroke: color,\r\n                        points: [x1, y1, x2, y2],\r\n                        value: text_value,\r\n                        column: [\"m\", col_index].join(\"_\"),\r\n                        strokeWidth: _this.pixels_for_leaf,\r\n                    });\r\n                row.add(line);\r\n\r\n                if(_this.current_draw_values){\r\n                    text = _this.objects_ref.heatmap_value.clone({\r\n                        text: text_value,\r\n                        fontSize: _this.value_font_size,\r\n                    });\r\n\r\n                    width = text.getWidth();\r\n                    x = _this._hack_round((x1+x2)/2-width/2);\r\n                    y = _this._hack_round(y1-_this.value_font_size/2);\r\n                    text.position({x:x, y:y});\r\n                    row.add(text);\r\n                }\r\n              }\r\n              x1 = x2;\r\n          }\r\n        }\r\n    }\r\n\r\n    if(_this.settings.count_column.draw && _this.features[_this.dimensions[\"overall\"]-1]){\r\n        x2 = x1 + _this.pixels_for_dimension;\r\n        var count = node.objects.length;\r\n        color = _this._get_color_for_value(count, _this.min_item_count, _this.max_item_count, _this.middle_item_count, _this.settings.count_column.colors);\r\n\r\n        line = _this.objects_ref.heatmap_line.clone({\r\n                stroke: color,\r\n                points: [x1, y1, x2, y2],\r\n                value: count,\r\n                column: \"Count\",\r\n                strokeWidth: _this.pixels_for_leaf,\r\n        });\r\n        row.add(line);\r\n\r\n        if(_this.current_draw_values){\r\n            text = _this.objects_ref.heatmap_value.clone({\r\n                text: count,\r\n            });\r\n\r\n            width = text.getWidth();\r\n            x = _this._hack_round((x1+x2)/2-width/2);\r\n            y = _this._hack_round(y1-_this.value_font_size/2);\r\n            text.position({x:x, y:y});\r\n            row.add(text);\r\n        }\r\n    }\r\n    return row;\r\n  }\r\n  \r\n  InCHlib.prototype._draw_column_metadata_row = function(data, row_index, x1, y1){\r\n      var _this = this;\r\n      var row = new Konva.Group({\"class\": \"column_metadata\"});\r\n      var x2, y2, color, line, value, text, text_value, width, col_index;\r\n      var str2num = (_this.column_metadata_descs[row_index][\"str2num\"] === undefined)?false:true;\r\n      var colors_predefined = Object.keys(_this.settings.column_metadata.colors.value2color).length > 0;\r\n\r\n      for (var i = 0, len = _this.on_features[\"data\"].length; i < len; i++){\r\n          col_index = _this.on_features[\"data\"][i];\r\n          value = data[col_index];\r\n          text_value = value;\r\n          \r\n          if(str2num){\r\n              value = _this.column_metadata_descs[row_index][\"str2num\"][value];\r\n          }\r\n          if(colors_predefined){\r\n            color = _this.settings.column_metadata.colors.value2color[text_value];\r\n            if(color === undefined){\r\n              color = _this.settings.column_metadata.colors.default;\r\n            }\r\n          }\r\n          else{\r\n            color = _this._get_color_for_value(value, _this.column_metadata_descs[row_index][\"min\"], _this.column_metadata_descs[row_index][\"max\"], _this.column_metadata_descs[row_index][\"middle\"], _this.settings.column_metadata.colors.scale);\r\n          }\r\n          x2 = x1 + _this.pixels_for_dimension;\r\n          y2 = y1;\r\n          \r\n          line = _this.objects_ref.heatmap_line.clone({\r\n                  strokeWidth: _this.settings.column_metadata.row_height,\r\n                  stroke: color,\r\n                  value: text_value,\r\n                  points: [x1, y1, x2, y2],\r\n                  column: [\"cm\", row_index].join(\"_\"),\r\n              });\r\n          row.add(line);\r\n          x1 = x2;\r\n\r\n      }\r\n      \r\n      if(_this.settings.column_metadata.feature_names.draw){\r\n        var text = _this.objects_ref.heatmap_value.clone({\r\n          x: x2 + 10,\r\n          y: _this._hack_round(y2 - _this.settings.column_metadata.row_height/2),\r\n          fontSize: _this.settings.column_metadata.row_height,\r\n          text: _this.column_metadata.feature_names[row_index].toString(),\r\n          fill: \"#000000\",\r\n          fontWeight: \"bold\"\r\n        });\r\n        _this.heatmap_layer.add(text);\r\n      }\r\n      return row;\r\n  }\r\n\r\n  InCHlib.prototype._bind_row_events = function(row){\r\n    var _this = this;\r\n      row.on(\"mouseenter\", function(evt){\r\n          _this._row_mouseenter(evt);\r\n      });\r\n\r\n      row.on(\"mouseleave\", function(evt){\r\n          _this._row_mouseleave(evt);\r\n      });\r\n\r\n      row.on(\"mouseover\", function(evt){\r\n          _this._draw_col_label(evt);\r\n      });\r\n\r\n      row.on(\"mouseout\", function(evt){\r\n          _this.heatmap_overlay.find(\"#col_label\")[0].destroy();\r\n      });\r\n      \r\n      row.on(\"click\", function(evt){\r\n          var row_id = evt.target.parent.attrs.id;\r\n          if(evt.target.parent.attrs.class !== \"column_metadata\"){\r\n              var items = _this.data.nodes[row_id].objects;\r\n              var item_ids = [];\r\n              \r\n              for(i = 0; i < items.length; i++){\r\n                  item_ids.push(items[i]);\r\n              }\r\n              \r\n              _this.events.row_onclick(item_ids, evt);\r\n              var cell = _this._get_cell_data(evt);\r\n              _this.events.cell_click(cell, evt);\r\n          }\r\n      });\r\n  }\r\n\r\n  InCHlib.prototype._draw_row_ids = function(){\r\n    var _this = this;\r\n    \r\n    if(_this.pixels_for_leaf < 6 || _this.row_id_size < 5){\r\n        return;\r\n    }\r\n    var i, objects, object_y = [], leaf, values = [], text;\r\n    \r\n    for(i = 0, len = _this.current_leaf_ids.length; i < len; i++){\r\n        leaf_id = _this.current_leaf_ids[i];\r\n        objects = _this.data.nodes[leaf_id].objects;\r\n        if(objects.length > 1){\r\n            return;\r\n        }\r\n        object_y.push([objects[0], _this.leaves_y_coordinates[leaf_id]]);\r\n    }\r\n\r\n    var x = _this.distance + _this._get_visible_count()*_this.pixels_for_dimension + 15;\r\n    for(i = 0; i < object_y.length; i++){\r\n        _this.target_element.append($(\"<div>\" + object_y[i][0].toString() + \"</div>\")\r\n          .css({\r\n            \"position\": \"absolute\", \"top\": _this._hack_round(object_y[i][1] - _this.row_id_size/2),\r\n            \"left\": x,\r\n            \"font-style\": \"italic\",\r\n            \"font-size\": _this.row_id_size,\r\n            \"color\": \"gray\"\r\n          }));\r\n        \r\n        // text = _this.objects_ref.heatmap_value.clone({\r\n        //     x: x,\r\n        //     y: _this._hack_round(object_y[i][1] - _this.row_id_size/2),\r\n        //     fontSize: _this.row_id_size,\r\n        //     text: object_y[i][0].toString(),\r\n        //     fontStyle: 'italic',\r\n        //     fill: \"gray\"\r\n        // });\r\n        // _this.heatmap_layer.add(text);\r\n    }\r\n      \r\n  }\r\n\r\n  InCHlib.prototype._get_row_id_size = function(){\r\n    var _this = this;\r\n    var objects, object_y = [], leaf_id, values = [], text;\r\n\r\n    for(var i = 0, len = _this.heatmap_array.length; i < len; i++){\r\n        leaf_id = _this.heatmap_array[i][0];\r\n        objects = _this.data.nodes[leaf_id].objects;\r\n        if(objects.length > 1){\r\n            /*_this.settings.row_ids.draw = false;\r\n            _this.right_margin = 100;\r\n            return;*/\r\n            values.push(objects[0] + \" +\" + (objects.length-1));\r\n        }\r\n        else{\r\n          values = values.concat(objects);\r\n        }\r\n    }\r\n    \r\n    var max_length = _this._get_max_length(values);\r\n    var test_string = \"\";\r\n    for(var i = 0; i < max_length; i++){\r\n      test_string += \"E\";\r\n    }\r\n\r\n    if(_this.settings.row_ids.fixed_size){\r\n      var test = new Konva.Text({\r\n                              fontFamily: _this.settings.heatmap.font.fontFamily,\r\n                              fontSize: _this.settings.row_ids.fixed_size,\r\n                              fontStyle: \"italic\",\r\n                              listening: false,\r\n                              text: test_string,\r\n                              preventDefault: false\r\n                          });\r\n      _this.row_id_size = _this.settings.row_ids.fixed_size;\r\n      _this.right_margin = 20 + test.width();\r\n      \r\n      // if(this.right_margin < 100){\r\n      //   _this.right_margin = 100;\r\n      // }\r\n    }\r\n    else{\r\n      _this.row_id_size = _this._get_font_size(max_length, 100, _this.pixels_for_leaf, 10);\r\n      _this.right_margin = 100;\r\n    }\r\n    \r\n  }\r\n\r\n  InCHlib.prototype._draw_heatmap_header = function(){\r\n    var _this = this;\r\n    if(_this.settings.heatmap_header.draw && _this.header.length > 0){\r\n      _this.header_layer = new Konva.Layer();\r\n      var count = _this.current_leaf_ids.length;\r\n      var distance_step = 0;\r\n      var x, i, column_header, key;\r\n      var current_headers = [];\r\n      var header_settings = _this.settings.heatmap_header.settings;\r\n      for(i = 0, len = _this.on_features[\"data\"].length; i < len; i++){\r\n        current_headers.push({\"label\": _this.header[_this.on_features[\"data\"][i]], \"min\": _this.data_descs[i].min, \"max\": _this.data_descs[i].max});\r\n      }\r\n\r\n      for(i = 0, len = _this.on_features[\"metadata\"].length; i < len; i++){\r\n        var index = _this.on_features[\"metadata\"][i] + _this.dimensions[\"data\"];\r\n        // current_headers.push({\"label\": _this.header[index], \"min\": _this.data_descs[index].min, \"max\": _this.data_descs[index].max});\r\n        current_headers.push({\"label\": _this.header[index]});\r\n      }\r\n      if(_this.settings.count_column.draw && _this.features[_this.dimensions[\"overall\"] - 1]){\r\n        current_headers.push({\"label\": _this.header[_this.dimensions[\"overall\"] - 1], \"min\": _this.data_descs[_this.dimensions[\"overall\"] - 1].min, \"max\": _this.data_descs[_this.dimensions[\"overall\"] - 1].max});\r\n      }\r\n\r\n      var max_text_length = _this._get_max_length(current_headers.map(x => x.label));\r\n      if(header_settings.fontSize === undefined){\r\n        var font_size = _this._get_font_size(max_text_length, _this.header_height, _this.pixels_for_dimension, 16);\r\n        if(font_size < 6){\r\n            return;\r\n        }\r\n        header_settings.fontSize = font_size;\r\n      }\r\n      \r\n      var y = _this.header_height - header_settings.fontSize/2;\r\n      var header_shift = _this.pixels_for_dimension/2-header_settings.fontSize/2;\r\n\r\n      if(_this.settings.column_dendrogram.draw && _this.heatmap_header){\r\n        y = _this.header_height+(_this.pixels_for_leaf*count) + 10 + _this.column_metadata_height;\r\n        header_shift = header_settings.fontSize/2 + _this.pixels_for_dimension/2;\r\n      };\r\n      \r\n      for(i = 0, len = current_headers.length; i<len; i++){\r\n        x = _this.heatmap_distance + distance_step*_this.pixels_for_dimension + header_shift;\r\n        header_settings.x = x;\r\n        header_settings.y = y;\r\n        /*header_settings.text = current_headers[i].label + \"\\n\" + current_headers[i].min + \" - \" + current_headers[i].max;*/\r\n        header_settings.text = current_headers[i].label;\r\n        header_settings.position_index = i;\r\n        column_header = _this.objects_ref.column_header.clone(header_settings);\r\n        _this.header_layer.add(column_header);\r\n        distance_step++;\r\n\r\n      }\r\n\r\n      _this.stage.add(_this.header_layer);\r\n\r\n      if(!(_this.settings.dendrogram.draw)){\r\n\r\n        _this.header_layer.on(\"click\", function(evt){\r\n            var column = evt.target;\r\n            var position_index = column.attrs.position_index;\r\n            for(i = 0; i<_this.header_layer.getChildren().length; i++){\r\n                _this.header_layer.getChildren()[i].setFill(\"black\");\r\n            }\r\n            evt.target.setAttrs({\"fill\": \"red\"});\r\n            _this._delete_layers([_this.heatmap_layer, _this.heatmap_overlay, _this.highlighted_rows_layer]);\r\n            _this._reorder_heatmap(_this._translate_column_to_feature_index(position_index));\r\n            _this._draw_heatmap();\r\n            _this.header_layer.draw();\r\n        });\r\n\r\n        _this.header_layer.on(\"mouseover\", function(evt){\r\n            var label = evt.target;\r\n            label.setOpacity(0.7);\r\n            this.draw();\r\n        });\r\n\r\n        _this.header_layer.on(\"mouseout\", function(evt){\r\n            var label = evt.target;\r\n            label.setOpacity(1);\r\n            this.draw();\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._translate_column_to_feature_index = function(column_index){\r\n    var _this = this;\r\n    var key;\r\n    var index = -1;\r\n    for(var i = 0, keys=Object.keys(_this.features), len=keys.length; i<len; i++){\r\n      key = keys[i];\r\n      if(_this.features[key]){\r\n        index++;\r\n        if(column_index === index){\r\n          return key;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._draw_distance_scale = function(distance){\r\n      var _this = this;\r\n      if(!_this.settings.navigation_toggle.distance_scale){\r\n        return;\r\n      }\r\n      var y1 = _this.header_height + _this.column_metadata_height + _this.settings.column_metadata.row_height/2 -10;\r\n      var y2 = y1;\r\n      var x1 = 0;\r\n      var x2 = _this.distance;\r\n      var path = new Konva.Line({\r\n          points: [x1, y1, x2, y2],\r\n          stroke: \"black\",\r\n          listening: false,\r\n          preventDefault: false\r\n      });\r\n\r\n      var circle = new Konva.Circle({\r\n          x: x2, \r\n          y: y2,\r\n          radius: 3,\r\n          fill: \"black\",\r\n          listening: false,\r\n          preventDefault: false\r\n      });\r\n\r\n      var number = 0;\r\n      var marker_tail = 3;\r\n      var marker_distance = x2;\r\n      var marker_number_distance = _this._hack_round(30/_this.distance_step*10)/10;\r\n      var distance = Math.round(100*_this.distance/_this.distance_step)/100;\r\n      var marker_distance_step = _this._hack_round(_this.distance_step*marker_number_distance);\r\n      var marker_counter = 0;\r\n\r\n      var distance_number = new Konva.Text({\r\n              x: 0,\r\n              y: y1-20,\r\n              text: distance,\r\n              fontSize: 12,\r\n              fontFamily: _this.settings.heatmap.font.fontFamily,\r\n              fontStyle: 'bold',\r\n              fill: 'black',\r\n              align: 'right',\r\n              listening: false,\r\n              preventDefault: false\r\n      });\r\n      _this.dendrogram_layer.add(path, circle, distance_number);\r\n\r\n      if(marker_distance_step==0){\r\n          marker_distance_step=0.5;\r\n      }\r\n\r\n      var path;\r\n      if(marker_number_distance > 0.1){\r\n          while(marker_distance > 0){\r\n              path = new Konva.Line({\r\n                  points: [marker_distance, (y1-marker_tail), marker_distance, (y2+marker_tail)],\r\n                  stroke: \"black\",\r\n                  listening: false,\r\n                  preventDefault: false\r\n              })\r\n              _this.dendrogram_layer.add(path);\r\n\r\n              number = _this._hack_round((number + marker_number_distance)*10)/10;\r\n              if(number>10){\r\n                  number = _this._hack_round(number);\r\n              }\r\n              \r\n              marker_distance = marker_distance - marker_distance_step;\r\n              marker_counter++;\r\n          }\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._draw_navigation = function(){\r\n    var _this = this;\r\n      _this.navigation_layer = new Konva.Layer();\r\n      var x = 0;\r\n      var y = 10;\r\n\r\n      if(_this.settings.heatmap.draw){\r\n        _this._draw_color_scale();\r\n      }\r\n      _this._draw_help();\r\n  \r\n      if(!_this.settings.column_dendrogram.draw && _this.settings.heatmap.draw && _this.settings.navigation_toggle.filter_button){\r\n          var filter_icon = _this.objects_ref.icon.clone({\r\n                  data: \"M26.834,6.958c0-2.094-4.852-3.791-10.834-3.791c-5.983,0-10.833,1.697-10.833,3.791c0,0.429,0.213,0.84,0.588,1.224l8.662,15.002v4.899c0,0.414,0.709,0.75,1.583,0.75c0.875,0,1.584-0.336,1.584-0.75v-4.816l8.715-15.093h-0.045C26.625,7.792,26.834,7.384,26.834,6.958zM16,9.75c-6.363,0-9.833-1.845-9.833-2.792S9.637,4.167,16,4.167c6.363,0,9.834,1.844,9.834,2.791S22.363,9.75,16,9.75z\",\r\n                  x: x,\r\n                  y: y,\r\n                  label: \"Filter\\ncolumns\"\r\n          });\r\n      \r\n          var filter_overlay = _this._draw_icon_overlay(x, y);\r\n          _this.navigation_layer.add(filter_icon, filter_overlay);\r\n          x = x + 40;    \r\n      \r\n          filter_overlay.on(\"click\", function(){\r\n              _this._filter_icon_click(this);\r\n          });\r\n              \r\n          filter_overlay.on(\"mouseover\", function(){\r\n              _this._icon_mouseover(filter_icon, filter_overlay, _this.navigation_layer);\r\n          });\r\n             \r\n          filter_overlay.on(\"mouseout\", function(){\r\n              _this._icon_mouseout(filter_icon, filter_overlay, _this.navigation_layer);\r\n          });\r\n      }\r\n\r\n      if(_this.zoomed_clusters[\"row\"].length > 0 || _this.zoomed_clusters[\"column\"].length > 0){\r\n        var refresh_icon = _this.objects_ref.icon.clone({\r\n              data: \"M24.083,15.5c-0.009,4.739-3.844,8.574-8.583,8.583c-4.741-0.009-8.577-3.844-8.585-8.583c0.008-4.741,3.844-8.577,8.585-8.585c1.913,0,3.665,0.629,5.09,1.686l-1.782,1.783l8.429,2.256l-2.26-8.427l-1.89,1.89c-2.072-1.677-4.717-2.688-7.587-2.688C8.826,3.418,3.418,8.826,3.416,15.5C3.418,22.175,8.826,27.583,15.5,27.583S27.583,22.175,27.583,15.5H24.083z\",\r\n              x: x,\r\n              y: y,\r\n              id: \"refresh_icon\",\r\n              label: \"Refresh\"\r\n        });\r\n        var refresh_overlay = _this._draw_icon_overlay(x, y);\r\n        _this.navigation_layer.add(refresh_icon, refresh_overlay);\r\n\r\n        refresh_overlay.on(\"click\", function(){\r\n            _this._refresh_icon_click();\r\n            _this.events.on_refresh();\r\n        });\r\n\r\n        refresh_overlay.on(\"mouseover\", function(){\r\n            _this._icon_mouseover(refresh_icon, refresh_overlay, _this.navigation_layer);\r\n        });\r\n\r\n        refresh_overlay.on(\"mouseout\", function(){\r\n            _this._icon_mouseout(refresh_icon, refresh_overlay, _this.navigation_layer);\r\n        });\r\n      }\r\n\r\n      if(_this.zoomed_clusters[\"row\"].length > 0){\r\n        x = _this.distance - 55;\r\n        y = _this.header_height + _this.column_metadata_height - 40;\r\n        var unzoom_icon = _this.objects_ref.icon.clone({\r\n            data: _this.paths_ref[\"unzoom_icon\"],\r\n            x: x,\r\n            y: y,\r\n            scale: {x: 0.7, y: 0.7},\r\n            label: \"Unzoom\\nrows\"\r\n        });\r\n        var unzoom_overlay = _this._draw_icon_overlay(x, y);\r\n        _this.navigation_layer.add(unzoom_icon, unzoom_overlay);\r\n\r\n        unzoom_overlay.on(\"click\", function(){\r\n            _this._unzoom_icon_click();\r\n        });\r\n\r\n        unzoom_overlay.on(\"mouseover\", function(){\r\n            _this._icon_mouseover(unzoom_icon, unzoom_overlay, _this.navigation_layer);\r\n        });\r\n\r\n        unzoom_overlay.on(\"mouseout\", function(){\r\n            _this._icon_mouseout(unzoom_icon, unzoom_overlay, _this.navigation_layer);\r\n        });\r\n      }\r\n\r\n      if(_this.zoomed_clusters[\"column\"].length > 0){\r\n          x = _this.settings.width - _this.right_margin + 10;\r\n          y = _this.header_height - 50;\r\n          var column_unzoom_icon = _this.objects_ref.icon.clone({\r\n              data: _this.paths_ref[\"unzoom_icon\"],\r\n              x: x,\r\n              y: y-5,\r\n              scale: {x: 0.7, y: 0.7},\r\n              label: \"Unzoom\\ncolumns\"\r\n          });\r\n          var column_unzoom_overlay = _this._draw_icon_overlay(x, y);\r\n\r\n          _this.navigation_layer.add(column_unzoom_icon, column_unzoom_overlay);\r\n\r\n          column_unzoom_overlay.on(\"click\", function(){\r\n              _this._column_unzoom_icon_click(this);\r\n          });\r\n\r\n          column_unzoom_overlay.on(\"mouseover\", function(){\r\n              _this._icon_mouseover(column_unzoom_icon, column_unzoom_overlay, _this.navigation_layer);\r\n          });\r\n\r\n          column_unzoom_overlay.on(\"mouseout\", function(){\r\n              _this._icon_mouseout(column_unzoom_icon, column_unzoom_overlay, _this.navigation_layer);\r\n          });\r\n      }\r\n\r\n      if(_this.settings.navigation_toggle.export_button){\r\n        var export_icon = _this.objects_ref.icon.clone({\r\n              data: \"M24.25,10.25H20.5v-1.5h-9.375v1.5h-3.75c-1.104,0-2,0.896-2,2v10.375c0,1.104,0.896,2,2,2H24.25c1.104,0,2-0.896,2-2V12.25C26.25,11.146,25.354,10.25,24.25,10.25zM15.812,23.499c-3.342,0-6.06-2.719-6.06-6.061c0-3.342,2.718-6.062,6.06-6.062s6.062,2.72,6.062,6.062C21.874,20.78,19.153,23.499,15.812,23.499zM15.812,13.375c-2.244,0-4.062,1.819-4.062,4.062c0,2.244,1.819,4.062,4.062,4.062c2.244,0,4.062-1.818,4.062-4.062C19.875,15.194,18.057,13.375,15.812,13.375z\",\r\n              x: _this.settings.width - 30,\r\n              y: 10,\r\n              scale: {x: 0.7, y: 0.7},\r\n              id: \"export_icon\",\r\n              label: \"Export\\nin png format\"\r\n        });\r\n\r\n        var export_overlay = _this._draw_icon_overlay(_this.settings.width - 30, 10);\r\n        _this.navigation_layer.add(export_icon, export_overlay);\r\n\r\n        export_overlay.on(\"click\", function(){\r\n            _this._export_icon_click(this);\r\n        });\r\n            \r\n        export_overlay.on(\"mouseover\", function(){\r\n            _this._icon_mouseover(export_icon, export_overlay, _this.navigation_layer);\r\n        });\r\n           \r\n        export_overlay.on(\"mouseout\", function(){\r\n            _this._icon_mouseout(export_icon, export_overlay, _this.navigation_layer);\r\n        });\r\n      }\r\n\r\n      _this.stage.add(_this.navigation_layer);\r\n  };\r\n\r\n  InCHlib.prototype._draw_help = function(){\r\n    var _this = this;\r\n    if(!_this.settings.navigation_toggle.hint_button){\r\n      return;\r\n    }\r\n    var help_icon = _this.objects_ref.icon.clone({\r\n          data: _this.paths_ref[\"lightbulb\"],\r\n          x: _this.settings.width - 30,\r\n          y: 40,\r\n          scale: {x: 0.8, y: 0.8},\r\n          id: \"help_icon\",\r\n          label: \"Tip\"\r\n    });\r\n\r\n    var help_overlay = _this._draw_icon_overlay(_this.settings.width - 30, 40);\r\n\r\n    _this.navigation_layer.add(help_icon, help_overlay);\r\n\r\n    help_overlay.on(\"mouseover\", function(){\r\n        _this._icon_mouseover(help_icon, help_overlay, _this.navigation_layer);\r\n        _this._help_mouseover();\r\n    });\r\n       \r\n    help_overlay.on(\"mouseout\", function(){\r\n        _this._help_mouseout();\r\n        _this._icon_mouseout(help_icon, help_overlay, _this.navigation_layer);\r\n    });\r\n\r\n  }\r\n\r\n  InCHlib.prototype._draw_color_scale = function(){\r\n      var _this = this;\r\n      if(!_this.settings.navigation_toggle.color_scale){\r\n        return;\r\n      }\r\n      var color_steps = [_this.settings.heatmap.colors.params.min/100*0.8, _this._get_color_for_value(0, 0, 1, 0.5, _this.settings.heatmap.colors.scale), _this.settings.heatmap.colors.params.middle/100*0.8, _this._get_color_for_value(0.5, 0, 1, 0.5, _this.settings.heatmap.colors.scale), _this.settings.heatmap.colors.params.max/100*0.8, _this._get_color_for_value(1, 0, 1, 0.5, _this.settings.heatmap.colors.scale)];\r\n      var color_scale = _this.objects_ref.rect_gradient.clone({\"label\": \"Color settings\",\r\n                                                              \"fillLinearGradientColorStops\": color_steps,\r\n                                                              \"id\": _this.settings.target + \"_color_scale\"});\r\n\r\n      color_scale.on(\"mouseover\", function(){\r\n        _this._color_scale_mouseover(color_scale, _this.navigation_layer);\r\n      });\r\n\r\n      color_scale.on(\"mouseout\", function(){\r\n        _this._color_scale_mouseout(color_scale, _this.navigation_layer);\r\n      });\r\n\r\n      color_scale.on(\"click\", function(){\r\n        _this._color_scale_click(color_scale, _this.navigation_layer);\r\n      });\r\n\r\n      _this.navigation_layer.add(color_scale);\r\n  }\r\n\r\n  InCHlib.prototype._update_color_scale = function(){\r\n    var _this = this;\r\n    var color_scale = _this.navigation_layer.find(\"#\" + _this.settings.target + \"_color_scale\");\r\n\r\n    color_scale.fillLinearGradientColorStops([_this.settings.heatmap.colors.params.min/100*0.8, _this._get_color_for_value(0, 0, 1, 0.5, _this.settings.heatmap.colors.scale), _this.settings.heatmap.colors.params.middle/100*0.8, _this._get_color_for_value(0.5, 0, 1, 0.5, _this.settings.heatmap.colors.scale), _this.settings.heatmap.colors.params.max/100*0.8, _this._get_color_for_value(1, 0, 1, 0.5, _this.settings.heatmap.colors.scale)]);\r\n    _this.navigation_layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._draw_icon_overlay = function(x, y){\r\n    var _this = this;\r\n      return _this.objects_ref.icon_overlay.clone({x: x, y: y});\r\n  }\r\n\r\n  InCHlib.prototype._highlight_path = function(path_id, color){\r\n    var _this = this;\r\n    var node = _this.data.nodes[path_id];\r\n\r\n    if(color === undefined && node.color !== undefined){\r\n      color = node.color;\r\n    }\r\n    else if(color === undefined && node.color === undefined){\r\n      color = \"gray\";\r\n    }\r\n    else if(color !== undefined && node.color !== undefined && color !== node.color){\r\n      color = node.color;\r\n    }\r\n\r\n    if(node.count != 1){\r\n        _this.dendrogram_layer.get(\"#\"+path_id)[0].stroke(color);\r\n        _this._highlight_path(node.left_child, color);\r\n        _this._highlight_path(node.right_child, color);\r\n    }\r\n    else{\r\n        _this.highlighted_rows_y.push(_this.leaves_y_coordinates[path_id]);\r\n        _this.current_object_ids.push.apply(_this.current_object_ids, node[\"objects\"])\r\n     }\r\n   }\r\n\r\n   InCHlib.prototype._highlight_column_path = function(path_id, color){\r\n    var _this = this;\r\n      var node = _this.column_dendrogram.nodes[path_id];\r\n      if(node.count != 1){\r\n          _this.column_dendrogram_layer.get(\"#col\"+path_id)[0].stroke(color);\r\n          _this._highlight_column_path(node.left_child, color);\r\n          _this._highlight_column_path(node.right_child, color);\r\n      }\r\n      else{\r\n        _this.current_column_ids.push(_this.nodes2columns[path_id]);\r\n      }\r\n   }\r\n\r\n  /**\r\n    * Unhighlight highlighted heatmap rows. \r\n    *\r\n    * @example \r\n    * instance.unhighlight_rows();\r\n    */\r\n   InCHlib.prototype.unhighlight_rows = function(){\r\n    var _this = this;\r\n      _this.highlight_rows([]);\r\n   }\r\n\r\n  /**\r\n    * Highlight heatmap rows with color defined in instance.settings.highlight_colors. \r\n    * When the empty array is passed it unhighlights all highlighted rows.\r\n    * \r\n    * @param {object} [row_ids] The array of heatmap row (object) IDs.\r\n    *\r\n    * @example \r\n    * instance.highlight_rows([\"CHEMBL7781\", \"CHEMBL273658\", \"CHEMBL415309\", \"CHEMBL267231\", \"CHEMBL8007\", \"CHEMBL7987\", \"CHEMBL7988\", \"CHEMBL266282\", \"CHEMBL7655\", \"CHEMBL7817\", \"CHEMBL8637\", \"CHEMBL8639\", \"CHEMBL8055\", \"CHEMBL7843\", \"CHEMBL266488\", \"CHEMBL8329\"]);\r\n    */\r\n\r\n   InCHlib.prototype.highlight_rows = function(row_ids){\r\n    var _this = this;\r\n      var i, row, row_id;\r\n      if(!_this.settings.heatmap.draw){\r\n        return;\r\n      }\r\n\r\n      _this.settings.highlighted_rows = row_ids;\r\n\r\n      _this.highlighted_rows_layer.destroyChildren();\r\n\r\n      var original_colors = _this.settings.heatmap.colors.scale;\r\n      var original_metadata_colors = _this.settings.metadata.colors.scale;\r\n      _this.settings.heatmap.colors.scale = _this.settings.highlight_colors;\r\n      _this.settings.metadata.colors.scale = _this.settings.highlight_colors;\r\n\r\n      var done_rows = {};\r\n      var unique_row_ids = [];\r\n\r\n      for(i = 0; i<row_ids.length; i++){\r\n          if(_this.objects2leaves[row_ids[i]] !== undefined){\r\n              row_id = _this.objects2leaves[row_ids[i]];\r\n              if(done_rows[row_id] === undefined){\r\n                  unique_row_ids.push(row_id);\r\n                  done_rows[row_id] = null;\r\n              }\r\n          }\r\n      }\r\n\r\n      for(i = 0; i<unique_row_ids.length; i++){\r\n          row = _this._draw_heatmap_row(unique_row_ids[i], _this.heatmap_distance, _this.leaves_y_coordinates[unique_row_ids[i]]);\r\n          _this.highlighted_rows_layer.add(row);\r\n          row.setAttr(\"listening\", false);\r\n      }\r\n\r\n\r\n      _this.highlighted_rows_layer.draw();\r\n      _this.heatmap_overlay.moveToTop();\r\n\r\n      _this.settings.heatmap.colors.scale = original_colors;\r\n      _this.settings.metadata.colors.scale = original_metadata_colors;\r\n\r\n\r\n      _this.highlighted_rows_layer.on(\"click\", function(evt){\r\n          _this.heatmap_layer.fire(\"click\");\r\n      });\r\n      \r\n  }\r\n\r\n  InCHlib.prototype._highlight_cluster = function(path_id){\r\n    var _this = this;\r\n    var previous_cluster = _this.last_highlighted_cluster;\r\n    \r\n    if(previous_cluster){\r\n      _this.unhighlight_cluster();\r\n    }\r\n\r\n    if(previous_cluster !== path_id){\r\n      _this.last_highlighted_cluster = path_id;\r\n      _this._highlight_path(path_id, \"#F5273C\");\r\n      _this._draw_cluster_layer(path_id);\r\n      _this.events.dendrogram_node_highlight(_this.current_object_ids, _this._unprefix(path_id));\r\n    }\r\n    _this.dendrogram_layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._highlight_column_cluster = function(path_id){\r\n    var _this = this;\r\n      var previous_cluster = _this.last_highlighted_column_cluster;\r\n      if(previous_cluster){\r\n        _this.unhighlight_column_cluster()\r\n      }\r\n      if(previous_cluster !== path_id){\r\n        _this.last_highlighted_column_cluster = path_id;\r\n        _this._highlight_column_path(path_id, \"#F5273C\");\r\n        _this.current_column_ids.sort(function(a,b){return a - b});\r\n        _this._draw_column_cluster_layer(path_id);\r\n        _this.events.column_dendrogram_node_highlight(_this.current_column_ids, _this._unprefix(path_id));\r\n      }\r\n      _this.column_dendrogram_layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype.unhighlight_column_cluster = function(){\r\n    var _this = this;\r\n      if(_this.last_highlighted_column_cluster){\r\n        _this._highlight_column_path(_this.last_highlighted_column_cluster, \"grey\");\r\n        _this.column_dendrogram_layer.draw();\r\n        _this.column_cluster_group.destroy();\r\n        _this.cluster_layer.draw();\r\n        _this.current_column_ids = [];\r\n        _this.events.column_dendrogram_node_unhighlight(_this._unprefix(_this.last_highlighted_column_cluster));\r\n        _this.last_highlighted_column_cluster = null;\r\n      }\r\n  }\r\n\r\n  /**\r\n    * Highlight cluster defined by the dendrogram node ID.\r\n    * \r\n    * @param {string} node_id The ID of particular node in dendrogram.\r\n    *\r\n    * @example \r\n    * instance.highlight_cluster(\"node@715\");\r\n    */\r\n\r\n  InCHlib.prototype.highlight_cluster = function(node_id){\r\n    var _this = this;\r\n      return _this._highlight_cluster(_this._prefix(node_id));\r\n  }\r\n\r\n  /**\r\n    * Highlight column cluster defined by the dendrogram node ID.\r\n    * \r\n    * @param {string} node_id The ID of particular node in dendrogram.\r\n    *\r\n    * @example \r\n    * instance.highlight_column_cluster(\"node@715\");\r\n    */\r\n\r\n  InCHlib.prototype.highlight_column_cluster = function(node_id){\r\n    var _this = this;\r\n      return _this._highlight_column_cluster(_this._prefix(node_id));\r\n  }\r\n\r\n  /**\r\n    * Unhighlight highlighted dendrogram node (cluster).\r\n    *\r\n    * @example \r\n    * instance.unhighlight_cluster();\r\n    */\r\n  InCHlib.prototype.unhighlight_cluster = function(){\r\n    var _this = this;\r\n    if(_this.last_highlighted_cluster){\r\n      _this._highlight_path(_this.last_highlighted_cluster);\r\n      _this.dendrogram_layer.draw();\r\n      _this.row_cluster_group.destroy();\r\n      _this.cluster_layer.draw();\r\n      _this.events.dendrogram_node_unhighlight(_this._unprefix(_this.last_highlighted_cluster));\r\n      _this.highlighted_rows_y = [];\r\n      _this.current_object_ids = [];\r\n      _this.last_highlighted_cluster = null;\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._neutralize_path = function(path_id){\r\n    var _this = this;\r\n      var node = _this.data.nodes[path_id];\r\n\r\n      if(node.count != 1){\r\n          var path = _this.dendrogram_layer.get(\"#\"+path_id)[0];\r\n          if(path){\r\n              path.setStroke(\"grey\");\r\n              _this._neutralize_path(node.right_child);\r\n              _this._neutralize_path(node.left_child);\r\n          }\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._draw_cluster_layer = function(path_id){\r\n    var _this = this;\r\n      _this.row_cluster_group = new Konva.Group();\r\n      var visible = _this._get_visible_count();\r\n      var count = _this.data.nodes[path_id].count;\r\n      var x = _this.distance - 30;\r\n      var y = _this.header_height + _this.column_metadata_height - 40;\r\n\r\n      var rows_desc = _this.objects_ref.count.clone({x: x + 10,\r\n                                                    y: y - 10,\r\n                                                    text: count,\r\n                                                    });\r\n\r\n      var zoom_icon = _this.objects_ref.icon.clone({\r\n                      data: _this.paths_ref[\"zoom_icon\"],\r\n                      x: x,\r\n                      y: y,\r\n                      scale: {x: 0.7, y: 0.7},\r\n                      label: \"Zoom\\nrows\",\r\n                  });\r\n\r\n\r\n      var zoom_overlay = _this._draw_icon_overlay(x, y);\r\n\r\n      x = _this.distance + _this.dendrogram_heatmap_distance;\r\n      var width = visible*_this.pixels_for_dimension+_this.heatmap_distance;\r\n      var upper_y = _this.highlighted_rows_y[0]-_this.pixels_for_leaf/2;\r\n      var lower_y = _this.highlighted_rows_y[_this.highlighted_rows_y.length-1]+_this.pixels_for_leaf/2;\r\n      \r\n      var cluster_overlay_1 = _this.objects_ref.cluster_overlay.clone({\r\n          x: x,\r\n          y: _this.header_height + _this.column_metadata_height + 5,\r\n          width: width,\r\n          height: _this._hack_round(upper_y -_this.header_height - _this.column_metadata_height - 5),\r\n      });\r\n\r\n      var cluster_border_1 = _this.objects_ref.cluster_border.clone({\r\n          points: [0, upper_y, width, upper_y],\r\n      });\r\n\r\n      var cluster_overlay_2 = _this.objects_ref.cluster_overlay.clone({\r\n          x: x,\r\n          y: lower_y,\r\n          width: width,\r\n          height: _this.settings.height-lower_y-_this.footer_height + 5,\r\n      });\r\n\r\n      var cluster_border_2 = _this.objects_ref.cluster_border.clone({\r\n          points: [0, lower_y, width, lower_y],\r\n      });\r\n\r\n      _this.row_cluster_group.add(rows_desc, cluster_overlay_1, cluster_overlay_2, zoom_icon, zoom_overlay, cluster_border_1, cluster_border_2);\r\n      _this.cluster_layer.add(_this.row_cluster_group);\r\n      _this.stage.add(_this.cluster_layer);\r\n      rows_desc.moveToTop();\r\n\r\n      _this.cluster_layer.draw();\r\n      _this.cluster_layer.moveToTop();\r\n      _this.navigation_layer.moveToTop();\r\n\r\n      zoom_overlay.on(\"mouseover\", function(){\r\n          _this._icon_mouseover(zoom_icon, zoom_overlay, _this.cluster_layer);\r\n      });\r\n\r\n      zoom_overlay.on(\"mouseout\", function(){\r\n          _this._icon_mouseout(zoom_icon, zoom_overlay, _this.cluster_layer);\r\n      });\r\n\r\n      zoom_overlay.on(\"click\", function(){\r\n        _this._zoom_cluster(_this.last_highlighted_cluster);\r\n      });\r\n  }\r\n\r\n  InCHlib.prototype._draw_column_cluster_layer = function(path_id){\r\n    var _this = this;\r\n      _this.column_cluster_group = new Konva.Group();\r\n      var count = _this.column_dendrogram.nodes[path_id].count;      \r\n      var x = _this.settings.width - _this.right_margin + 10;\r\n      var y = _this.header_height - 25;\r\n\r\n      var cols_desc = _this.objects_ref.count.clone({x: x + 15,\r\n                                                        y: y - 5,\r\n                                                        text: count,\r\n                                                    });\r\n\r\n      var zoom_icon = _this.objects_ref.icon.clone({\r\n                      data: _this.paths_ref[\"zoom_icon\"],\r\n                      x: x,\r\n                      y: y,\r\n                      scale: {x: 0.7, y: 0.7},\r\n                      label: \"Zoom\\ncolumns\",\r\n                  });\r\n\r\n      var zoom_overlay = _this._draw_icon_overlay(x, y);\r\n\r\n      var x1 = _this._hack_round((_this.current_column_ids[0] - _this.columns_start_index)*_this.pixels_for_dimension);\r\n      var x2 = _this._hack_round((_this.current_column_ids[0] + _this.current_column_ids.length - _this.columns_start_index)*_this.pixels_for_dimension);\r\n      var y1 = 0;\r\n      var height = _this.settings.height-_this.footer_height-_this.header_height+_this.settings.column_metadata.row_height+_this.column_metadata_height;    \r\n      var y2 = height+_this.header_height;\r\n      \r\n      var cluster_border_1 = _this.objects_ref.cluster_border.clone({\r\n          points: [_this.heatmap_distance + x1, y1, _this.heatmap_distance + x1, y2],\r\n      });\r\n\r\n      var cluster_overlay_1 = _this.objects_ref.cluster_overlay.clone({\r\n          x: _this.heatmap_distance,\r\n          y: _this.header_height,\r\n          width: x1,\r\n          height: height,\r\n      });\r\n\r\n      var cluster_border_2 = _this.objects_ref.cluster_border.clone({\r\n          points: [_this.heatmap_distance + x2, y1, _this.heatmap_distance + x2, y2],\r\n      });\r\n\r\n      var cluster_overlay_2 = _this.objects_ref.cluster_overlay.clone({\r\n          x: x2+_this.heatmap_distance,\r\n          y: _this.header_height,\r\n          width: _this.heatmap_width - x2 - (_this.on_features[\"metadata\"].length + _this.on_features[\"count_column\"].length)*_this.pixels_for_dimension,\r\n          height: height,\r\n      });\r\n    \r\n\r\n      _this.column_cluster_group.add(cluster_overlay_1, cluster_overlay_2, zoom_icon, zoom_overlay, cols_desc, cluster_border_1, cluster_border_2);\r\n      _this.cluster_layer.add(_this.column_cluster_group);\r\n      _this.stage.add(_this.cluster_layer);\r\n      _this.cluster_layer.draw();\r\n      _this.cluster_layer.moveToTop();\r\n      _this.navigation_layer.moveToTop();\r\n\r\n      zoom_overlay.on(\"mouseover\", function(){\r\n          _this._icon_mouseover(zoom_icon, zoom_overlay, _this.cluster_layer);\r\n      });\r\n\r\n      zoom_overlay.on(\"mouseout\", function(){\r\n          _this._icon_mouseout(zoom_icon, zoom_overlay, _this.cluster_layer);\r\n      });\r\n\r\n      zoom_overlay.on(\"click\", function(){\r\n          _this._zoom_column_cluster(_this.last_highlighted_column_cluster);\r\n      });\r\n  }\r\n\r\n  InCHlib.prototype._draw_column_cluster = function(node_id){\r\n    var _this = this;\r\n      _this.columns_start_index = _this.current_column_ids[0];\r\n      _this.on_features[\"data\"] = _this.current_column_ids;\r\n      var distance = _this.distance;\r\n      _this._adjust_horizontal_sizes();\r\n      _this._delete_layers([_this.column_dendrogram_layer, _this.heatmap_layer, _this.heatmap_overlay, _this.column_cluster_group, _this.navigation_layer, _this.highlighted_rows_layer], [_this.dendrogram_hover_layer]);\r\n      if(_this.settings.heatmap_header.draw){\r\n        _this._delete_layers([_this.header_layer]);\r\n      }\r\n      _this._draw_column_dendrogram(node_id);\r\n      _this._draw_heatmap();\r\n      _this._draw_heatmap_header();\r\n      _this._draw_navigation();\r\n\r\n      if(_this.settings.dendrogram.draw){\r\n        if(distance !== _this.distance){\r\n          _this._delete_layers([_this.dendrogram_layer, _this.cluster_layer]);\r\n          var row_node = (_this.zoomed_clusters[\"row\"].length > 0)?_this.zoomed_clusters[\"row\"][_this.zoomed_clusters[\"row\"].length - 1]:_this.root_id;\r\n          _this._draw_row_dendrogram(row_node);\r\n          if(_this.last_highlighted_cluster !== null){\r\n            _this._highlight_path(_this.last_highlighted_cluster, \"#F5273C\");\r\n            _this.dendrogram_layer.draw();\r\n            _this._draw_cluster_layer(_this.last_highlighted_cluster);\r\n          }\r\n        }\r\n        else{\r\n          _this.cluster_layer.moveToTop();\r\n          _this.cluster_layer.draw();\r\n        }\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._zoom_column_cluster = function(node_id){\r\n    var _this = this;\r\n    if(node_id != _this.column_root_id){\r\n      _this.zoomed_clusters[\"column\"].push(node_id);\r\n      _this._draw_column_cluster(node_id);\r\n      _this.highlight_rows(_this.settings.highlighted_rows);\r\n      _this.events.on_columns_zoom(_this.current_column_ids, _this._unprefix(node_id));\r\n      _this.current_column_ids = [];\r\n      _this.last_highlighted_column_cluster = null;\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._unzoom_column_cluster = function(){\r\n    var _this = this;\r\n    var unzoomed = _this.zoomed_clusters[\"column\"].pop();\r\n    var zoomed_count = _this.zoomed_clusters[\"column\"].length;\r\n    var node_id = (zoomed_count > 0)?_this.zoomed_clusters[\"column\"][zoomed_count-1]:_this.column_root_id;\r\n    _this._get_column_ids(node_id);\r\n    _this._draw_column_cluster(node_id);\r\n    _this.events.on_columns_unzoom(_this._unprefix(unzoomed));\r\n    _this.current_column_ids = [];\r\n    _this._highlight_column_cluster(unzoomed);\r\n  }\r\n\r\n  InCHlib.prototype._draw_cluster = function(node_id){\r\n    var _this = this;\r\n    _this._delete_layers([_this.dendrogram_layer, _this.heatmap_layer, _this.heatmap_overlay, _this.cluster_layer, _this.navigation_layer, _this.header_layer, _this.highlighted_rows_layer], [_this.dendrogram_hover_layer]);\r\n    _this._draw_row_dendrogram(node_id);\r\n    _this._get_row_id_size();\r\n    _this._draw_heatmap();\r\n    _this._draw_heatmap_header();\r\n    _this._draw_navigation();\r\n    if(_this.settings.column_dendrogram.draw && _this.last_highlighted_column_cluster !== null){\r\n      _this._draw_column_cluster_layer(_this.last_highlighted_column_cluster);\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._zoom_cluster = function(node_id){\r\n    var _this = this;\r\n    if(node_id !== _this.root_id){\r\n      _this.zoomed_clusters[\"row\"].push(node_id);\r\n      _this._draw_cluster(node_id);\r\n      _this.highlight_rows(_this.settings.highlighted_rows);\r\n      _this.events.on_zoom(_this.current_object_ids, _this._unprefix(node_id));\r\n      _this.highlighted_rows_y = [];\r\n      _this.current_object_ids = [];\r\n      _this.last_highlighted_cluster = null;\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._unzoom_cluster = function(){\r\n    var _this = this;\r\n    var unzoomed = _this.zoomed_clusters[\"row\"].pop();\r\n    var zoomed_count = _this.zoomed_clusters[\"row\"].length;\r\n    var node_id = (zoomed_count > 0)?_this.zoomed_clusters[\"row\"][zoomed_count-1]:_this.root_id;\r\n    _this._draw_cluster(node_id);\r\n    _this.events.on_unzoom(_this._unprefix(unzoomed));\r\n    _this._highlight_cluster(unzoomed);\r\n  }\r\n\r\n  InCHlib.prototype._get_node_neighbourhood = function(node, nodes){\r\n    var _this = this;\r\n      var node_neighbourhood = {\"left_node\": {\"left_node\": {\"left_count\" : 0,\r\n                                                            \"right_count\": 0}, \r\n                                              \"right_node\": {\"left_count\" : 0,\r\n                                                             \"right_count\": 0},\r\n                                              \"left_count\" : 0.5,\r\n                                              \"right_count\": 0.5\r\n                                             },\r\n                                \"right_node\": {\"left_node\": {\"left_count\" : 0,\r\n                                                            \"right_count\": 0}, \r\n                                              \"right_node\": {\"left_count\" : 0,\r\n                                                             \"right_count\": 0},\r\n                                              \"left_count\" : 0.5,\r\n                                              \"right_count\": 0.5\r\n                                             },\r\n                                \"left_count\": nodes[node.left_child].count,\r\n                                \"right_count\": nodes[node.right_child].count,\r\n      };\r\n\r\n      var left_child = nodes[node.left_child];\r\n      var right_child = nodes[node.right_child];\r\n\r\n      var left_child_left_child = nodes[left_child.left_child];\r\n      var left_child_right_child = nodes[left_child.right_child];\r\n\r\n      var right_child_left_child = nodes[right_child.left_child];\r\n      var right_child_right_child = nodes[right_child.right_child];\r\n\r\n      if(left_child.count != 1){\r\n              node_neighbourhood.left_node.left_count = nodes[left_child.left_child].count;\r\n              node_neighbourhood.left_node.right_count = nodes[left_child.right_child].count;\r\n\r\n          if(left_child_left_child.count != 1){\r\n              node_neighbourhood.left_node.left_node.left_count = nodes[left_child_left_child.left_child].count;\r\n              node_neighbourhood.left_node.left_node.right_count = nodes[left_child_left_child.right_child].count;\r\n          }\r\n          else{\r\n              node_neighbourhood.left_node.left_node.left_count = 0.5;\r\n              node_neighbourhood.left_node.left_node.right_count = 0.5;\r\n          }\r\n\r\n          if(left_child_right_child.count != 1){\r\n              node_neighbourhood.left_node.right_node.left_count = nodes[left_child_right_child.left_child].count;\r\n              node_neighbourhood.left_node.right_node.right_count = nodes[left_child_right_child.right_child].count;\r\n          }\r\n          else{\r\n              node_neighbourhood.left_node.right_node.left_count = 0.5;\r\n              node_neighbourhood.left_node.right_node.right_count = 0.5;\r\n          }\r\n      }\r\n\r\n      if(right_child.count != 1){\r\n          node_neighbourhood.right_node.left_count = nodes[right_child.left_child].count;\r\n          node_neighbourhood.right_node.right_count = nodes[right_child.right_child].count;\r\n\r\n          if(right_child_left_child.count != 1){\r\n              node_neighbourhood.right_node.left_node.left_count = nodes[right_child_left_child.left_child].count;\r\n              node_neighbourhood.right_node.left_node.right_count = nodes[right_child_left_child.right_child].count;\r\n          }\r\n          else{\r\n              node_neighbourhood.right_node.left_node.left_count = 0.5;\r\n              node_neighbourhood.right_node.left_node.right_count = 0.5;\r\n          }\r\n\r\n          if(right_child_right_child.count != 1){\r\n              node_neighbourhood.right_node.right_node.left_count = nodes[right_child_right_child.left_child].count;\r\n              node_neighbourhood.right_node.right_node.right_count = nodes[right_child_right_child.right_child].count;\r\n          }\r\n          else{\r\n              node_neighbourhood.right_node.right_node.left_count = 0.5;\r\n              node_neighbourhood.right_node.right_node.right_count = 0.5;\r\n          }\r\n      }\r\n      return node_neighbourhood;\r\n  }\r\n\r\n  InCHlib.prototype._draw_column_dendrogram_node = function(node_id, node, current_left_count, current_right_count, x, y){\r\n    var _this = this;\r\n      \r\n      if(node.count > 1){\r\n          var node_neighbourhood = _this._get_node_neighbourhood(node, _this.column_dendrogram.nodes);\r\n          var right_child = _this.column_dendrogram.nodes[node.right_child];\r\n          var left_child = _this.column_dendrogram.nodes[node.left_child];\r\n          var x1 = _this._get_x1(node_neighbourhood, current_left_count, current_right_count);\r\n          var x2 = _this._get_x2(node_neighbourhood, current_left_count, current_right_count);\r\n          var y1 = _this._hack_round(_this.vertical_distance - _this.vertical_distance_step*node.distance);\r\n          y1 = (y1 == 0)? 2: y1;\r\n          var y2 = y1;\r\n\r\n          if(right_child.count == 1){\r\n              x2 = x2 - _this.pixels_for_dimension/2;\r\n          }\r\n\r\n          var left_distance = _this.vertical_distance - _this.vertical_distance_step*_this.column_dendrogram.nodes[node.left_child].distance;\r\n          var right_distance = _this.vertical_distance - _this.vertical_distance_step*_this.column_dendrogram.nodes[node.right_child].distance;\r\n\r\n          _this.column_dendrogram_layer.add(_this._draw_vertical_path(node_id, x1, y1, x2, y2, left_distance, right_distance));\r\n          _this._draw_column_dendrogram_node(node.left_child, left_child, current_left_count - node_neighbourhood.left_node.right_count, current_right_count + node_neighbourhood.left_node.right_count, left_distance, y1);\r\n          _this._draw_column_dendrogram_node(node.right_child, right_child, current_left_count + node_neighbourhood.right_node.left_count, current_right_count - node_neighbourhood.right_node.left_count, right_distance, y2);\r\n      }\r\n      else{\r\n        _this.column_x_coordinates[node_id] = current_right_count*_this.pixels_for_dimension;\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._get_y1 = function(node_neighbourhood, current_left_count, current_right_count){\r\n    var _this = this;\r\n      current_left_count = current_left_count-node_neighbourhood.left_node.right_count-node_neighbourhood.left_node.left_node.right_count;\r\n      var y = (current_left_count+(node_neighbourhood.left_node.left_node.right_count+node_neighbourhood.left_node.right_node.left_count)/2)*_this.pixels_for_leaf;\r\n      return y + _this.top_heatmap_distance;\r\n  }\r\n\r\n  InCHlib.prototype._get_y2 = function(node_neighbourhood, current_left_count, current_right_count){\r\n    var _this = this;\r\n      current_left_count = current_left_count+node_neighbourhood.right_node.left_node.left_count;\r\n      var y = (current_left_count+(node_neighbourhood.right_node.left_node.right_count+node_neighbourhood.right_node.right_node.left_count)/2)*_this.pixels_for_leaf;\r\n      return y + _this.top_heatmap_distance;\r\n  }\r\n\r\n  InCHlib.prototype._get_x1 = function(node_neighbourhood, current_left_count, current_right_count){\r\n    var _this = this;\r\n      current_left_count = current_left_count-node_neighbourhood.left_node.right_count-node_neighbourhood.left_node.left_node.right_count;\r\n      var x = (current_left_count+(node_neighbourhood.left_node.left_node.right_count+node_neighbourhood.left_node.right_node.left_count)/2)*_this.pixels_for_dimension;\r\n      return (_this.heatmap_distance+_this.on_features[\"data\"].length * _this.pixels_for_dimension)-x;\r\n  }\r\n\r\n  InCHlib.prototype._get_x2 = function(node_neighbourhood, current_left_count, current_right_count){\r\n    var _this = this;\r\n      current_left_count = current_left_count+node_neighbourhood.right_node.left_node.left_count;\r\n      var x = (current_left_count+(node_neighbourhood.right_node.left_node.right_count+node_neighbourhood.right_node.right_node.left_count)/2)*_this.pixels_for_dimension;;\r\n      return (_this.heatmap_distance+_this.on_features[\"data\"].length * _this.pixels_for_dimension)-x;\r\n  }\r\n\r\n  InCHlib.prototype._draw_vertical_path = function(path_id, x1, y1, x2, y2, left_distance, right_distance){\r\n    var _this = this;\r\n      var path_group = new Konva.Group({});\r\n      var path = _this.objects_ref.node.clone({points: [x1, left_distance, x1, y1, x2, y2, x2, right_distance], id: \"col\" + path_id,})\r\n      var path_rect = _this.objects_ref.node_rect.clone({x: x2-1,\r\n                                                            y: y1-1,\r\n                                                            width: x1 - x2 + 2,\r\n                                                            height: _this.header_height - y1,\r\n                                                            id: \"col_rect\" + path_id,\r\n                                                            path: path,\r\n                                                            path_id: path_id,\r\n                                                          });\r\n\r\n      path_group.add(path, path_rect);\r\n      return path_group;\r\n  }\r\n\r\n  InCHlib.prototype._draw_horizontal_path = function(path_id, x1, y1, x2, y2, left_distance, right_distance, path_color){\r\n    var _this = this;\r\n    if(path_color === undefined){\r\n      path_color = \"gray\";\r\n    }\r\n    \r\n    var path_group = new Konva.Group({});\r\n    var path = _this.objects_ref.node.clone({points: [left_distance, y1, x1, y1, x2, y2, right_distance, y2],\r\n                                                id: path_id, stroke: path_color});\r\n    var path_rect = _this.objects_ref.node_rect.clone({x: x1-1,\r\n                                                          y: y1-1,\r\n                                                          width: _this.distance - x1,\r\n                                                          height: y2 - y1,\r\n                                                          id: [path_id, \"rect\"].join(\"_\"),\r\n                                                          path: path,\r\n                                                          path_id: path_id,\r\n                                                        });\r\n    path_group.add(path, path_rect);\r\n    return path_group;\r\n  }\r\n\r\n  InCHlib.prototype._filter_icon_click = function(filter_button){\r\n    var _this = this;\r\n      var filter_features_element = _this.target_element.find(\".filter_features\");\r\n      var symbol = \"✖\";\r\n\r\n      if(filter_features_element.length){\r\n          filter_features_element.fadeIn(\"fast\");\r\n          var overlay = _this._draw_target_overlay();\r\n      }\r\n      else{\r\n          filter_list = \"\";\r\n          \r\n          for(var attr in _this.header){\r\n              if(_this.features[attr]){\r\n                  symbol = \"✔\";\r\n              }\r\n              if(attr < _this.dimensions){\r\n                  var text = _this.header[attr];\r\n                  if(text == \"\"){\r\n                      text =  parseInt(attr) + 1 + \". column\";\r\n                  }\r\n                  filter_list = filter_list + \"<li class='feature_switch' data-num='\" + attr + \"'><span class='symbol'>\" + symbol + \"</span>  \" + text +\"</li>\";\r\n              }\r\n          }\r\n          \r\n          _this.target_element.append(\"<div class='filter_features'><ul>\" + filter_list + \"</ul><hr /><div><span class='cancel_filter_list'>Cancel</span>&nbsp;&nbsp;&nbsp;<span class='update_filter_list'>Update</span></div></div>\");\r\n          filter_features_element = _this.target_element.find(\".filter_features\");\r\n          \r\n          filter_features_element.css({\"display\":\"none\",\r\n              \"top\": 45,\r\n              \"left\": 0,\r\n              \"border-radius\":\"5px\",\r\n              \"text-align\":\"center\",\r\n              \"position\":\"absolute\",\r\n              \"background-color\":\"#ffffff\",\r\n              \"border\":\"solid 2px #DEDEDE\",\r\n              \"padding-top\":\"5px\",\r\n              \"padding-left\":\"15px\",\r\n              \"padding-bottom\":\"10px\",\r\n              \"padding-right\":\"15px\",\r\n              \"font-weight\":\"bold\",\r\n              \"font-size\": \"14px\",\r\n              \"z-index\": 1000,\r\n              \"font-family\": _this.settings.heatmap.font.fontFamily\r\n          });\r\n\r\n          filter_features_element.find(\"ul\").css({\r\n              \"list-style-type\":\"none\",\r\n              \"margin-left\":\"0\",\r\n              \"padding-left\":\"0\",\r\n              \"text-align\":\"left\",\r\n          });\r\n\r\n          filter_features_element.find(\"li\").css({\r\n              \"color\":\"green\",\r\n              \"margin-top\":\"5px\",\r\n          });\r\n\r\n          filter_features_element.find(\"div\").css({\r\n              \"cursor\":\"pointer\",\r\n              \"opacity\":\"0.7\",\r\n          });\r\n\r\n          var overlay = _this._draw_target_overlay();\r\n          filter_features_element.fadeIn(\"fast\");\r\n\r\n          _this.target_element.find(\".feature_switch\").click(function(){\r\n              var num = parseInt($(this).attr(\"data-num\"));\r\n              var symbol_element = $(this).find(\"span\");\r\n              _this.features[num] = !_this.features[num];\r\n\r\n              if(_this.features[num]){\r\n                  symbol_element.text(\"✔\");\r\n                  $(this).css(\"color\", \"green\");\r\n              }\r\n              else{\r\n                  symbol_element.text(\"✖\");\r\n                  $(this).css(\"color\", \"red\");\r\n              }\r\n\r\n              _this._set_on_features();\r\n          });\r\n\r\n          $(function(){\r\n              filter_features_element.click(function(){\r\n                  return false;\r\n              });\r\n\r\n              filter_features_element.mousedown(function(){\r\n                  return false;\r\n              });\r\n\r\n             $(\"#\" + _this.settings.target + \" .filter_features ul li,\" + \"#\" + _this.settings.target + \" .filter_features div span\").hover(\r\n             function(){\r\n                $(this).css({\r\n                      \"cursor\": \"pointer\",\r\n                      \"opacity\": \"0.7\",\r\n                  });\r\n             },\r\n             function(){\r\n                $(this).css({\r\n                      \"cursor\": \"default\",\r\n                      \"opacity\": \"1\",\r\n                  });\r\n             });\r\n          });\r\n\r\n          _this.target_element.find(\".cancel_filter_list\").click(function(){\r\n              filter_features_element.fadeOut(\"fast\");\r\n              overlay.fadeOut(\"fast\");\r\n          });\r\n\r\n          overlay.click(function(){\r\n              filter_features_element.fadeOut(\"fast\");\r\n              overlay.fadeOut(\"fast\");\r\n          });\r\n\r\n          _this.target_element.find(\".update_filter_list\").click(function(){\r\n              filter_features_element.fadeOut(\"slow\");\r\n              overlay.fadeOut(\"slow\");\r\n\r\n              var node_id = (_this.zoomed_clusters[\"row\"].length > 0)?_this.zoomed_clusters[\"row\"][_this.zoomed_clusters[\"row\"].length-1]:_this.root_id;\r\n              var highlighted_cluster = _this.last_highlighted_cluster;\r\n              _this.last_highlighted_cluster = null;\r\n              _this._adjust_horizontal_sizes();              \r\n              _this._delete_all_layers();\r\n              _this._draw_stage_layer();\r\n              if(_this.settings.dendrogram.draw){\r\n                _this._draw_dendrogram_layers();\r\n                _this._draw_row_dendrogram(node_id);\r\n                _this._draw_dendrogram_layers();\r\n                if(_this.settings.column_dendrogram.draw && _this._visible_features_equal_column_dendrogram_count()){\r\n                  _this._draw_column_dendrogram(_this.column_root_id);\r\n                }\r\n              }\r\n\r\n              _this._draw_navigation();\r\n              _this._draw_heatmap();\r\n              _this._draw_heatmap_header();\r\n\r\n              if(highlighted_cluster != null){\r\n                  _this._highlight_cluster(highlighted_cluster);\r\n              }\r\n          });\r\n      }\r\n  }\r\n  InCHlib.prototype._draw_target_overlay = function(){\r\n    var _this = this;\r\n    var overlay = _this.target_element.find(\".target_overlay\");\r\n\r\n    if(overlay.length){\r\n      overlay.fadeIn(\"fast\");\r\n    }\r\n    else{\r\n      overlay = $(\"<div class='target_overlay'></div>\");\r\n      overlay.css({\"background-color\": \"white\", \r\n                      \"position\": \"absolute\",\r\n                      \"top\": 0,\r\n                      \"left\": 0,\r\n                      \"right\": 0,\r\n                      \"bottom\": 0,\r\n                      \"opacity\": 0.5\r\n          });\r\n      _this.target_element.append(overlay);\r\n    }\r\n\r\n    return overlay;\r\n  }\r\n\r\n  InCHlib.prototype._refresh_icon_click = function(){\r\n    var _this = this;\r\n    _this.redraw();\r\n  }\r\n\r\n  InCHlib.prototype._export_icon_click = function(){\r\n    var _this = this;\r\n    html2canvas(_this.target_element[0], {backgroundColor: null, scale: 2}).then(canvas => {\r\n        var a = document.createElement('a');\r\n        a.href = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\r\n        a.download = 'inchlib.png';\r\n        a.click();\r\n    });\r\n    // var export_menu = _this.target_element.find(\".export_menu\");\r\n    // var overlay = _this._draw_target_overlay();\r\n\r\n    // if(export_menu.length){\r\n    //   export_menu.fadeIn(\"fast\");\r\n    // }\r\n    // else{\r\n    //   export_menu = $(\"<div class='export_menu'><div><button type='submit' data-action='open'>Show image</button></div><div><button type='submit' data-action='save'>Save image</button></div></div>\");\r\n    //   _this.target_element.append(export_menu);\r\n    //   export_menu.css({\"position\": \"absolute\",\r\n    //                   \"top\": 45,\r\n    //                   \"left\": _this.settings.width - 125,\r\n    //                   \"font-size\": \"12px\",\r\n    //                   \"border\": \"solid #D2D2D2 1px\",\r\n    //                   \"border-radius\": \"5px\",\r\n    //                   \"padding\": \"2px\",\r\n    //                   \"background-color\": \"white\"});\r\n\r\n    //   var buttons = export_menu.find(\"button\");\r\n    //   buttons.css({\"padding-top\": \"7px\", \"padding-bottom\": \"5px\", \"padding-right\": \"8px\", \"padding-left\": \"8px\", \"color\": \"white\", \"border\": \"solid #D2D2D2 1px\", \"width\": \"100%\", \"background-color\": \"#2171b5\", \"font-weight\": \"bold\"});  \r\n\r\n    //   buttons.hover(\r\n    //     function(){$(this).css({\"cursor\": \"pointer\", \"opacity\": 0.7})},\r\n    //     function(){$(this).css({\"opacity\": 1})}\r\n    //   );\r\n\r\n    //   overlay.click(function(){\r\n    //     export_menu.fadeOut(\"fast\");\r\n    //     overlay.fadeOut(\"fast\");\r\n    //   });\r\n\r\n    //   buttons.click(function(){\r\n    //     var action = $(this).attr(\"data-action\");\r\n    //     var zoom = 3;\r\n    //     var width = _this.stage.width();\r\n    //     var height = _this.stage.height();\r\n    //     var loading_div = $(\"<h3 style='margin-top: 100px; margin-left: 100px; width: \" + width + \"px; height: \" + height + \"px;'>Loading...</h3>\");\r\n    //     _this.target_element.after(loading_div);\r\n    //     _this.target_element.hide();\r\n    //     _this.stage.width(width*zoom);\r\n    //     _this.stage.height(height*zoom);\r\n    //     _this.stage.scale({x: zoom, y:zoom});\r\n    //     _this.stage.draw();\r\n    //     _this.navigation_layer.hide();\r\n    //     _this.stage.toDataURL({\r\n    //       quality: 1,\r\n    //       callback: function(dataUrl){\r\n    //         if(action === \"open\"){\r\n    //           open_image(dataUrl);\r\n    //         }\r\n    //         else{\r\n    //           download_image(dataUrl);\r\n    //         }\r\n    //         _this.stage.width(width);\r\n    //         _this.stage.height(height);\r\n    //         _this.stage.scale({x: 1, y:1});\r\n    //         _this.stage.draw();\r\n    //         loading_div.remove();\r\n    //         _this.target_element.show();\r\n    //         _this.navigation_layer.show();\r\n    //         _this.navigation_layer.draw();\r\n    //         overlay.trigger(\"click\");\r\n    //       }\r\n    //     });\r\n    //   });\r\n    // }\r\n\r\n    // function download_image(dataUrl){\r\n    //   var fileName = 'inchlib.png';\r\n\r\n    //   if ('msToBlob' in _this.stage) { // IE10+\r\n    //     var blob = _this.stage.msToBlob();\r\n    //     navigator.msSaveBlob(blob, fileName);\r\n    //   } else {\r\n    //     var a = document.createElement('a');\r\n    //     a.setAttribute('href', dataUrl);\r\n    //     a.setAttribute('target', '_blank');\r\n    //     a.setAttribute('download', fileName);\r\n    //     a.style.display = 'none';\r\n    //     document.body.appendChild(a);\r\n    //     a.click();\r\n    //     document.body.removeChild(a);\r\n    //   }\r\n    // };\r\n    \r\n    // function open_image(dataUrl){\r\n    //   window.open(dataUrl, \"_blank\");\r\n    // };\r\n  };\r\n\r\n  InCHlib.prototype._color_scale_click = function(icon, evt){\r\n    var _this = this;\r\n    var i, option, key, value;\r\n    var color_options = {\"heatmap\": \"Heatmap data colors\"};\r\n    var value_options = [\"min\", \"middle\", \"max\"];\r\n\r\n    if(_this.settings.metadata.draw){\r\n      color_options[\"metadata\"] = \"Metadata colors\";\r\n    }\r\n\r\n    if(_this.settings.column_metadata.draw){\r\n      color_options[\"column_metadata\"] = \"Column metadata colors\";\r\n    }\r\n\r\n    \r\n    var settings_form = _this.target_element.find(\".inchlib-settings_form\");\r\n    var overlay = _this._draw_target_overlay();\r\n\r\n    if(settings_form.length){\r\n      settings_form.fadeIn(\"fast\");\r\n    }\r\n    else{\r\n      settings_form = $(\"<form class='inchlib-settings_form'></form>\");\r\n      var options = \"\", color_1, color_2, color_3;\r\n\r\n      for(i = 0, keys = Object.keys(color_options), len = keys.length; i < len; i++){\r\n        key = keys[i];\r\n        var section = $(\"<div class='inchlib-section' data-name='\" + key + \"' ></div>\").css({\"margin-bottom\": 5, \"padding-bottom\": 5, \"border-bottom\": \"solid #D2D2D2 1px\"});\r\n        color_1 = _this._get_color_for_value(0,0,1,0.5,_this.settings[key].colors.scale);\r\n        color_2 = _this._get_color_for_value(0.5,0,1,0.5,_this.settings[key].colors.scale);\r\n        color_3 = _this._get_color_for_value(1,0,1,0.5,_this.settings[key].colors.scale);\r\n\r\n        section.append($(\"<div class='form_label'>\" + color_options[key] + \"</div>\"));\r\n        section.append($(\"<div><input class='inchlib-color_input' type='text' name='colors.scale' value='\"+ _this.settings[key].colors.scale + \"'/> <div class='color_button' style='background: linear-gradient(to right, \" + color_1 + \",\" + color_2 + \",\" + color_3 + \")'></div></div>\")\r\n          .css({\"display\": \"flex\", \"align-items\": \"center\"}));\r\n        \r\n        var params = $(\"<div class='inchlib-params'></div>\").css({\"display\": \"flex\", \"justify-content\": \"space-between\"});\r\n        for(i2 = 0, len2 = value_options.length; i2 < len2; i2++){\r\n          key2 = value_options[i2];\r\n          params.append($(\"<div><div class='form_label'>\" + key2 + \"</div><input type='text' name='colors.params.\" + key2 +\"' value='\"+ _this.settings[key].colors.params[key2] + \"'/></div>\"));\r\n        }\r\n        section.append(params);\r\n        section.append($(\"<div><div class='form_label'>Value type</div>\\\r\n                  <select name='value_type'>\\\r\n                    <option value='percentile' selected>Percentile</option>\\\r\n                    <option value='value'>Value</option>\\\r\n                  </select></div>\\\r\n                  <div><div class='form_label'>Color by</div>\\\r\n                  <select name='independent_columns'>\\\r\n                    <option value='true' selected>By columns</option>\\\r\n                    <option value='false'>Entire heatmap</option>\\\r\n                  </select></div>\"));\r\n        settings_form.append(section);\r\n      }\r\n      settings_form.append($(\"<button type='submit'>Redraw</button>\"));\r\n\r\n      _this.target_element.append(settings_form);\r\n      settings_form.css({\"width\": 150, \"z-index\": 1000, \"position\": \"absolute\", \"top\": 110, \"left\": 0, \"padding\": \"10px\", \"border\": \"solid #D2D2D2 2px\", \"border-radius\": \"5px\", \"background-color\": \"white\", \"font-size\": \"small\"});\r\n      _this.target_element.find(\".inchlib-settings_form .color_button\").css({\"border\": \"solid #D2D2D2 1px\", \"height\": \"15px\", \"width\": \"30px\", \"display\": \"inline-block\"});    \r\n      _this.target_element.find(\".inchlib-settings_form input[type='text']\").css({\"width\": 40});  \r\n      _this.target_element.find(\".inchlib-settings_form .inchlib-color_input\").css({\"width\": 80, \"margin-right\": 3});  \r\n      _this.target_element.find(\".inchlib-settings_form .inchlib-section > *\").css({\"margin-bottom\": 5});  \r\n      _this.target_element.find(\".inchlib-settings_form .form_label\").css({\"color\": \"gray\", \"margin-bottom\": 5, \"font-style\": \"italic\"});  \r\n      _this.target_element.find(\".inchlib-settings_form button\").css({\"padding\": 5, \"color\": \"white\", \"border\": \"none\", \"width\": \"100%\", \"background-color\": \"#2171b5\", \"font-weight\": \"bold\"});\r\n\r\n      overlay.click(function(){\r\n        settings_form.fadeOut(\"fast\");\r\n        overlay.fadeOut(\"fast\");\r\n      });\r\n\r\n      var color_buttons = settings_form.find(\".color_button\");\r\n      \r\n      color_buttons.hover(\r\n        function(){$(this).css({\"cursor\": \"pointer\", \"opacity\": 0.7})},\r\n        function(){$(this).css({\"opacity\": 1})}\r\n      );\r\n\r\n      color_buttons.click(function(evt){\r\n        _this._draw_color_scales_select(this, evt);\r\n      });\r\n\r\n      settings_form.submit(function(evt){\r\n        var settings_fieldset = $(this).find(\"input, select\");\r\n        \r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n\r\n        settings_fieldset.each(function(){\r\n            var settings_section = $(this).parents(\".inchlib-section\").attr(\"data-name\");\r\n            option = $(this);\r\n            key = option.attr(\"name\");\r\n            var path = key.split(\".\");\r\n            value = option.val();\r\n            if(value_options.indexOf(path[path.length - 1]) !== -1){\r\n              value = parseFloat(value);\r\n            }\r\n\r\n            if(path.length == 1){\r\n              _this.settings[settings_section][path[0]] = value;\r\n            }\r\n            else if(path.length == 2){\r\n              _this.settings[settings_section][path[0]][path[1]] = value;\r\n            }\r\n            else{\r\n              _this.settings[settings_section][path[0]][path[1]][path[2]] = value; \r\n            }\r\n        });\r\n        _this.redraw_heatmap();\r\n        _this._update_color_scale();\r\n        overlay.trigger('click');\r\n      })\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._draw_color_scales_select = function(element, evt){\r\n    var _this = this;\r\n    var scales_div = _this.target_element.find(\".color_scales\");\r\n    var scale_divs;\r\n\r\n    if(scales_div.length){\r\n      scales_div.fadeIn(\"fast\");\r\n      scale_divs = scales_div.find(\".color_scale\");\r\n    }\r\n    else{\r\n      scales_div = $(\"<div class='color_scales'></div>\").css({\"z-index\": 10});\r\n      var scale, color_1, color_2, color_3, key;\r\n\r\n      for(var i = 0, keys = Object.keys(_this.colors), len = keys.length; i < len; i++){\r\n        key = keys[i];\r\n        color_1 = _this._get_color_for_value(0,0,1,0.5,key);\r\n        color_2 = _this._get_color_for_value(0.5,0,1,0.5,key);\r\n        color_3 = _this._get_color_for_value(1,0,1,0.5,key);\r\n        scale = \"<div class='color_scale' data-scale_acronym='\" + key + \"' style='background: linear-gradient(to right, \" + color_1 + \",\" + color_2 + \",\" + color_3 + \")'></div>\";\r\n        scales_div.append(scale);\r\n      }\r\n      _this.target_element.append(scales_div);\r\n      scales_div.css({\"border\": \"solid #D2D2D2 2px\",\r\n                     \"border-radius\": \"5px\",\r\n                     \"padding\": \"5px\",\r\n                     \"position\": \"absolute\",\r\n                     \"top\": 110,\r\n                     \"left\": 170,\r\n                     \"background-color\": \"white\"});\r\n\r\n      scale_divs = _this.target_element.find(\".color_scale\");\r\n      scale_divs.css({\"margin-top\":\"3px\",\r\n                      \"width\": \"80px\",\r\n                      \"height\": \"20px\",\r\n                      \"border\": \"solid #D2D2D2 1px\",});\r\n\r\n      scale_divs.hover(\r\n        function(){$(this).css({\"cursor\": \"pointer\", \"opacity\": 0.7})},\r\n        function(){$(this).css({\"opacity\": 1})}\r\n      );\r\n\r\n      _this.target_element.find(\".target_overlay\").click(function(){\r\n        scales_div.fadeOut(\"fast\");\r\n      });\r\n    }\r\n\r\n    scale_divs.on(\"click\", function(){\r\n      var color = $(this).attr(\"data-scale_acronym\");\r\n      var input = $(element).prev(\"input:first\").val(color);\r\n      $(element).css({\"background\": \"linear-gradient(to right, \" + _this._get_color_for_value(0,0,1,0.5,color) + \",\" + _this._get_color_for_value(0.5,0,1,0.5,color) + \",\" + _this._get_color_for_value(1,0,1,0.5,color) + \")\"})\r\n      scales_div.fadeOut(\"fast\");\r\n      scale_divs.off(\"click\");\r\n    });\r\n\r\n  };\r\n\r\n  InCHlib.prototype._color_scale_mouseover = function(color_scale, layer){\r\n    var _this = this;\r\n      var label = color_scale.getAttr(\"label\");\r\n      var x = color_scale.getAttr(\"x\");\r\n      var y = color_scale.getAttr(\"y\");\r\n\r\n      _this.icon_tooltip = _this.objects_ref.tooltip_label.clone({x: x,\r\n          y: y + 25\r\n      });\r\n\r\n      _this.icon_tooltip.add(_this.objects_ref.tooltip_tag.clone());\r\n      _this.icon_tooltip.add(_this.objects_ref.tooltip_text.clone({text: label}));\r\n\r\n      layer.add(_this.icon_tooltip);\r\n      _this.icon_tooltip.moveToTop();\r\n      color_scale.setOpacity(0.7);\r\n      layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._color_scale_mouseout = function(color_scale, layer){\r\n    var _this = this;\r\n      _this.icon_tooltip.destroy();\r\n      color_scale.setOpacity(1);\r\n      layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._unzoom_icon_click = function(){\r\n    var _this = this;\r\n    _this._unzoom_cluster();\r\n  };\r\n\r\n  InCHlib.prototype._column_unzoom_icon_click = function(){\r\n    var _this = this;\r\n      _this._unzoom_column_cluster();\r\n  };\r\n\r\n  InCHlib.prototype._icon_mouseover = function(icon, icon_overlay, layer){\r\n    var _this = this;\r\n    if(icon.getAttr(\"id\") !== \"help_icon\"){\r\n      var label = icon.getAttr(\"label\");\r\n      var x = icon_overlay.getAttr(\"x\");\r\n      var y = icon_overlay.getAttr(\"y\");\r\n      var width = icon_overlay.getWidth();\r\n      var height = icon_overlay.getHeight();\r\n      var icon_id = icon.getAttr(\"id\");\r\n\r\n      if(icon_id === \"export_icon\"){\r\n        x = x - 100;\r\n        y = y - 50;\r\n      }\r\n\r\n      _this.icon_tooltip = _this.objects_ref.tooltip_label.clone({x: x,\r\n          y: y+1.2*height\r\n      });\r\n\r\n      _this.icon_tooltip.add(_this.objects_ref.tooltip_tag.clone());\r\n      _this.icon_tooltip.add(_this.objects_ref.tooltip_text.clone({text: label}));\r\n      layer.add(_this.icon_tooltip);    \r\n    }\r\n    icon.setFill(\"black\");\r\n    layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._icon_mouseout = function(icon, icon_overlay, layer){\r\n    var _this = this;\r\n      if(icon.getAttr(\"id\") !== \"help_icon\"){\r\n        _this.icon_tooltip.destroy();\r\n      }\r\n      icon.setFill(\"grey\");\r\n      layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._help_mouseover = function(){\r\n    var _this = this;\r\n    var help_element = _this.target_element.find(\".inchlib_help\");\r\n    if(help_element.length){\r\n      help_element.show();\r\n    }\r\n    else{\r\n      help_element = $(\"<div class='inchlib_help'><ul><li>Zoom clusters by a long click on a dendrogram node.</li></ul></div>\");\r\n      help_element.css({\"position\": \"absolute\",\r\n                        \"top\": 70,\r\n                        \"left\": _this.settings.width - 200,\r\n                        \"font-size\": 12,\r\n                        \"padding-right\": 15,\r\n                        \"width\": 200,\r\n                        \"background-color\": \"white\",\r\n                        \"border-radius\": 5,\r\n                        \"border\": \"solid #DEDEDE 2px\",\r\n                        \"z-index\": 1000\r\n\r\n                      });\r\n      _this.target_element.append(help_element);\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._help_mouseout = function(){\r\n    var _this = this;\r\n    _this.target_element.find(\".inchlib_help\").hide();\r\n  }\r\n\r\n  InCHlib.prototype._dendrogram_layers_click=function(layer, evt){\r\n    var _this = this;\r\n    var path_id = evt.target.attrs.path_id;\r\n    layer.fire(\"mouseout\", layer, evt);\r\n    _this._highlight_cluster(path_id);\r\n    _this.events.dendrogram_node_onclick(_this.current_object_ids, _this._unprefix(path_id), evt);\r\n  }\r\n\r\n  InCHlib.prototype._column_dendrogram_layers_click=function(layer, evt){\r\n    var _this = this;\r\n      var path_id = evt.target.attrs.path_id;\r\n      layer.fire(\"mouseout\", layer, evt);\r\n      _this._highlight_column_cluster(path_id);\r\n      _this.events.column_dendrogram_node_onclick(_this.current_column_ids, _this._unprefix(path_id), evt);\r\n  }\r\n\r\n  InCHlib.prototype._dendrogram_layers_mousedown = function(layer, evt){\r\n      \r\n      // if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw)\r\n          var _this = this;\r\n      \r\n      // if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw)\r\n          var node_id = evt.target.attrs.path_id;\r\n    clearTimeout(_this.timer);\r\n    _this.timer = setTimeout(function() {\r\n        _this._get_object_ids(node_id);\r\n        _this._zoom_cluster(node_id);\r\n    }, 500);\r\n  }\r\n\r\n  InCHlib.prototype._column_dendrogram_layers_mousedown = function(layer, evt){\r\n      \r\n      // if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw)\r\n          var _this = this;\r\n      \r\n      // if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw)\r\n          var node_id = evt.target.attrs.path_id;\r\n    clearTimeout(_this.timer);\r\n    _this.timer = setTimeout(function() {\r\n        _this._get_column_ids(node_id);\r\n        _this._zoom_column_cluster(node_id);\r\n    }, 500);\r\n  }\r\n\r\n      \r\n      // if(_this.settings.dendrogram.draw || _this.settings.column_dendrogram.draw)\r\n        InCHlib.prototype._dendrogram_layers_mouseup = function(layer, evt){\r\n    var _this = this;\r\n    clearTimeout(_this.timer);\r\n  }\r\n\r\n  InCHlib.prototype._dendrogram_layers_mouseout = function(layer, evt){\r\n    var _this = this;\r\n    if(_this.path_overlay !== undefined){\r\n      _this.path_overlay.destroy();\r\n    }\r\n    _this.dendrogram_hover_layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._dendrogram_layers_mouseover = function(layer, evt){\r\n    var _this = this;\r\n    _this.path_overlay = evt.target.attrs.path.clone({\"strokeWidth\": 4});\r\n    _this.dendrogram_hover_layer.add(_this.path_overlay);\r\n    _this.dendrogram_hover_layer.draw();\r\n  }\r\n\r\n  InCHlib.prototype._visible_features_equal_column_dendrogram_count = function(){\r\n    var _this = this;\r\n      if((_this.on_features[\"data\"].length + _this.on_features[\"metadata\"].length) == _this.current_column_count){\r\n          return true;\r\n      }\r\n      return false;\r\n  }\r\n\r\n  InCHlib.prototype._get_color_for_value = function(value, min, max, middle, color_scale){\r\n    var _this = this;\r\n      var color = _this.colors[color_scale];\r\n      var c1 = color[\"start\"];\r\n      var c2 = color[\"end\"];\r\n\r\n      if(value > max){\r\n        return 'rgb('+c2.r+','+c2.g+','+c2.b+')';\r\n      }\r\n\r\n      if(min == max || value < min){\r\n        return 'rgb('+c1.r+','+c1.g+','+c1.b+')';\r\n      }\r\n\r\n\r\n      if(color[\"middle\"] !== undefined){\r\n          \r\n          if(value >= middle){\r\n              if(middle == max){\r\n                return 'rgb('+c2.r+','+c2.g+','+c2.b+')';\r\n              }\r\n\r\n              min = middle;\r\n              c1 = color[\"middle\"];\r\n              c2 = color[\"end\"];\r\n          }\r\n          else{\r\n              if(middle == min){\r\n                return 'rgb('+c1.r+','+c1.g+','+c1.b+')';\r\n              }\r\n              max = middle;\r\n              c1 = color[\"start\"];\r\n              c2 = color[\"middle\"];\r\n          }\r\n      }\r\n\r\n      var position = (value-min)/(max-min);\r\n      var r = _this._hack_round(c1.r+(position*(c2.r-c1.r)));\r\n      var g = _this._hack_round(c1.g+(position*(c2.g-c1.g)));\r\n      var b = _this._hack_round(c1.b+(position*(c2.b-c1.b)));\r\n      return 'rgb('+r+','+g+','+b+')';\r\n  }\r\n\r\n  InCHlib.prototype._get_font_size = function(text_length, width, height, max_font_size){\r\n    var _this = this;\r\n    var max_possible_size = height - 2;\r\n    var font_size = max_possible_size;\r\n\r\n    if(font_size/2*text_length > width-10){\r\n        font_size = font_size/(font_size/2*text_length/(width-10));\r\n    };\r\n    font_size = (font_size > max_possible_size)?max_possible_size:font_size;\r\n    font_size = (font_size > max_font_size)?max_font_size:font_size;\r\n    return font_size;\r\n  }\r\n\r\n  InCHlib.prototype._get_object_ids = function(node_id){\r\n    var _this = this;\r\n    _this.current_object_ids = [];\r\n    _this._collect_object_ids(node_id);\r\n  }\r\n\r\n  InCHlib.prototype._collect_object_ids = function(node_id){\r\n    var _this = this;\r\n      if(_this.data.nodes[node_id][\"left_child\"] !== undefined){\r\n        _this._collect_object_ids(_this.data.nodes[node_id][\"left_child\"]);\r\n        _this._collect_object_ids(_this.data.nodes[node_id][\"right_child\"]);\r\n      }\r\n      else{\r\n        _this.current_object_ids.push.apply(_this.current_object_ids, _this.data.nodes[node_id][\"objects\"])\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._get_column_ids = function(node_id){\r\n    var _this = this;\r\n      _this.current_column_ids = [];\r\n      _this._collect_column_ids(node_id);\r\n      _this.current_column_ids.sort(function(a,b){return a - b});\r\n  }\r\n\r\n  InCHlib.prototype._collect_column_ids = function(node_id){\r\n    var _this = this;\r\n    if(_this.column_dendrogram.nodes[node_id][\"left_child\"] !== undefined){\r\n      _this._collect_column_ids(_this.column_dendrogram.nodes[node_id][\"left_child\"]);\r\n      _this._collect_column_ids(_this.column_dendrogram.nodes[node_id][\"right_child\"]);\r\n    }\r\n    else{\r\n      _this.current_column_ids.push(_this.nodes2columns[node_id]);\r\n    }\r\n  }\r\n\r\n  InCHlib.prototype._hack_size = function(obj) {\r\n    var _this = this;\r\n      return Object.keys(obj).length;\r\n  };\r\n\r\n  InCHlib.prototype._hack_round = function(value){\r\n    var _this = this;\r\n      return (0.5 + value) >> 0;\r\n  }\r\n\r\n  InCHlib.prototype._is_number = function(n){\r\n    var _this = this;\r\n      return !isNaN(parseFloat(n)) && isFinite(n);\r\n  }\r\n\r\n  InCHlib.prototype._row_mouseenter = function(evt){\r\n    var _this = this;\r\n      var row_id = evt.target.parent.getAttr(\"id\");\r\n      var visible = _this._get_visible_count();\r\n\r\n      if(evt.target.parent.attrs.class !== \"column_metadata\"){\r\n          _this.highlighted_row = row_id;\r\n          var y = _this.leaves_y_coordinates[row_id];\r\n          var x = _this.heatmap_distance;\r\n          \r\n          _this.row_overlay = _this.objects_ref.heatmap_line.clone({points: [x, y, x + _this.heatmap_width, y],\r\n            strokeWidth: _this.pixels_for_leaf,\r\n            stroke: \"#FFFFFF\",\r\n            opacity: 0.3,\r\n            listening: false});\r\n\r\n          _this.heatmap_overlay.add(_this.row_overlay);\r\n          _this.heatmap_overlay.draw();\r\n          _this.events.row_onmouseover(_this.data.nodes[row_id].objects, evt);\r\n      }\r\n  }\r\n\r\n  InCHlib.prototype._row_mouseleave = function(evt){\r\n    var _this = this;\r\n      _this.row_overlay.destroy();\r\n      _this.events.row_onmouseout(evt);\r\n  };\r\n\r\n  InCHlib.prototype._get_cell_data = function(evt){\r\n    var _this = this;\r\n    var attrs = evt.target.attrs;\r\n    var column = attrs.column.split(\"_\");\r\n    var header_type2value = {\"d\": _this.heatmap_header[column[1]],\r\n                             \"m\": _this.metadata_header[column[1]],\r\n                             \"Count\": \"Count\"};\r\n    \r\n    if(_this.column_metadata_header !== undefined){\r\n      header_type2value[\"cm\"] = _this.column_metadata_header[column[1]];\r\n    }\r\n    \r\n    return {\"value\": attrs.value, \"header\": header_type2value[column[0]]};\r\n\r\n  }\r\n\r\n  InCHlib.prototype._draw_col_label = function(evt){\r\n      var _this = this;\r\n      var parent = evt.target.parent;\r\n      var i, line;\r\n      var attrs = evt.target.attrs;\r\n      var points = attrs.points;\r\n      var x = _this._hack_round((points[0] + points[2])/2);\r\n      var y = points[1]-0.5*_this.pixels_for_leaf;\r\n      var column = attrs.column.split(\"_\");\r\n      var header_type2value = {\"d\": _this.heatmap_header[column[1]],\r\n                               \"m\": _this.metadata_header[column[1]],\r\n                               \"Count\": \"Count\"};\r\n      \r\n      if(_this.column_metadata_header !== undefined){\r\n        header_type2value[\"cm\"] = _this.column_metadata_header[column[1]];\r\n      }\r\n      \r\n      var header = header_type2value[column[0]];\r\n\r\n      if(header !== _this.last_column){\r\n        _this.column_overlay.destroy();\r\n        _this.last_column = attrs.column;\r\n        _this.column_overlay = _this.objects_ref.heatmap_line.clone({points: [x, _this.header_height, x, _this.header_height + _this.column_metadata_height + (_this.heatmap_array.length+0.5)*_this.pixels_for_leaf],\r\n          strokeWidth: _this.pixels_for_dimension,\r\n          stroke: \"#FFFFFF\",\r\n          opacity: 0.3,\r\n          listening: false});\r\n\r\n        _this.heatmap_overlay.add(_this.column_overlay);\r\n      }\r\n      \r\n      _this.events.cell_mouseover({\"value\": value, \"header\": header}, evt);\r\n      var values = [];\r\n      if(_this.settings.row_ids.tooltip && parent.getAttr(\"class\") !== \"column_metadata\"){\r\n        values.push(_this.data.nodes[parent.getAttr(\"id\")].objects.join(\", \"));\r\n      }\r\n\r\n      if(header !== undefined){\r\n        values.push(header);\r\n      }\r\n      values.push(attrs.value);\r\n      var value = values.join(\"\\n\");\r\n\r\n      var tooltip = _this.objects_ref.tooltip_label.clone({x: x, y:y, id: \"col_label\",});\r\n      tooltip.add(_this.objects_ref.tooltip_tag.clone({pointerDirection: 'down'}), _this.objects_ref.tooltip_text.clone({text: value}));\r\n      \r\n      _this.heatmap_overlay.add(tooltip);\r\n      _this.heatmap_overlay.moveToTop();\r\n      _this.heatmap_overlay.draw();\r\n  }\r\n\r\n  InCHlib.prototype._unprefix = function(prefixed){\r\n    var _this = this;\r\n      return prefixed.split(_this.settings.target+\"#\")[1];\r\n  }\r\n\r\n  InCHlib.prototype._prefix = function(nonprefixed){\r\n    var _this = this;\r\n      return _this.settings.target + \"#\" + nonprefixed;\r\n  }\r\n\r\n  /**\r\n    * Returns array of features for object by its ID. When sent object ID is not present, false is returned\r\n    */\r\n  InCHlib.prototype.get_features_for_object = function(object_id){\r\n    var _this = this;\r\n      if(_this.objects2leaves[object_id] !== undefined){\r\n        var row_id = _this.objects2leaves[object_id];\r\n        return _this.data.nodes[row_id].features;\r\n      }\r\n      return false;\r\n  }\r\n\r\n  /**\r\n    * Adds a user defined color scale defined by its name start color, end color and optionaly middle color\r\n    */\r\n  InCHlib.prototype.add_color_scale = function(color_scale_name, color_scale){\r\n    var _this = this;\r\n      _this.colors[color_scale_name] = color_scale;\r\n      _this.target_element.find(\".color_scales\").remove();\r\n  }\r\n\r\n  InCHlib.prototype._get_visible_count = function(){\r\n    var _this = this;\r\n      return _this.on_features[\"data\"].length + _this.on_features[\"metadata\"].length + _this.on_features[\"count_column\"].length;\r\n  }\r\n\r\n  /**\r\n    * Update cluster heatmap settings\r\n    */\r\n  InCHlib.prototype.update_settings = function(settings_object){\r\n    var _this = this;\r\n    var navigation_toggle = _this.settings.navigation_toggle;\r\n    _this.settings = deepmerge(_this.settings, settings_object);\r\n\r\n    _this.dynamic_width = false;\r\n    if(_this.settings.width === \"dynamic\"){\r\n      _this.dynamic_width = true;\r\n      if(_this.target_element.width() === 0){\r\n        _this.target_element.css({\"width\": \"100%\"});\r\n      }\r\n      _this.settings.width = _this.target_element.width();\r\n    }\r\n  }\r\n\r\n  /**\r\n    * Redraw cluster heatmap\r\n    */\r\n  InCHlib.prototype.redraw = function(){\r\n    var _this = this;\r\n\r\n    if(_this.dynamic_width){\r\n      _this.settings.width = _this.target_element.width();\r\n    }\r\n    \r\n    _this._delete_all_layers();\r\n    _this.draw();\r\n  }\r\n\r\n  /**\r\n    * Redraw heatmap only\r\n    */\r\n  InCHlib.prototype.redraw_heatmap = function(){\r\n    var _this = this;\r\n    _this._delete_layers([_this.heatmap_layer, _this.heatmap_overlay, _this.highlighted_rows_layer, _this.header_layer]);\r\n    _this._set_color_settings();\r\n    _this._draw_heatmap();\r\n    _this._draw_heatmap_header();\r\n    _this.heatmap_layer.moveToBottom();\r\n    _this.heatmap_layer.moveUp();\r\n  }\r\n\r\n  /**\r\n    * Add metadata column\r\n    * @name [String] name of the column\r\n    * @data [Object] data object in format {leaf_id: value}\r\n    */\r\n  InCHlib.prototype.add_metadata_column = function(name, data){\r\n    var _this = this;\r\n    if(_this.metadata == undefined){\r\n      _this.metadata = {\r\n        \"feature_names\": [name],\r\n        \"nodes\": {}\r\n      }\r\n    }\r\n    else{\r\n      _this.metadata.feature_names.push(name);\r\n    }\r\n\r\n    for(var i = 0, len=_this.point_ids.length; i<len; i++){\r\n      var key = _this.point_ids[i];\r\n      if(_this.data.nodes[key].objects !== undefined){\r\n        var row_id = _this.data.nodes[key].objects[0];\r\n        var value = data[row_id];\r\n        if(value === undefined){\r\n          value = null;\r\n        }\r\n\r\n        if(_this.metadata.nodes[key] === undefined){\r\n          _this.metadata.nodes[key] = [value];\r\n        }\r\n        else{\r\n          _this.metadata.nodes[key].push(value); \r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  require(\"biojs-events\").mixin(InCHlib.prototype);\r\n  module.exports = InCHlib;\r\n\r\n","\r\nvar InCHlib = require(\"../lib/inchlib-1.2.0\");\r\n//var json1 = require(\"../resources/microarrays.json\")\r\n//var json2 = require(\"../resources/target.json\")\r\n// var tet = require(\"../resources/microarrays.json\")\r\nconst {initTable} = require('./insertable')\r\n\r\ndocument.getElementById('clear-tb1').addEventListener('click', cleanTableOne )\r\ndocument.getElementById('clear-tb2').addEventListener('click', cleanTableTwo )\r\n\r\nexport function drawmap(json,target){\r\nvar inchlib = new InCHlib({\"target\": target,\r\n                    \"width\": 800,\r\n                    \"height\": 1200,\r\n                    \"column_metadata_colors\": \"RdLrBu\",\r\n                    \"heatmap_colors\": \"RdBkGr\",\r\n                    \"max_percentile\": 90,\r\n                    \"middle_percentile\": 60,\r\n                    \"min_percentile\": 10,\r\n                    \"heatmap_font_color\": \"white\",\r\n                     text: 'biojs'});\r\n                  \r\ninchlib.send_json(JSON.parse(json));\r\n//Show hidden\r\nconst formNotExists = document.getElementById(\"form-new\");\r\nconst formExists = document.getElementById(\"form-exist\");\r\n\r\nconst res = document.getElementById(\"checkbox-maps-choose\").checked;\r\nconst res2 = document.getElementById(\"checkbox-loading-files-choose\").checked;\r\nif((!res && formNotExists.style.display!=\"none\") || (res2 && formExists.style.display!=\"none\")){\r\n    showMaps()\r\n    let map= document.getElementById(\"inchlib\");\r\n    map.style.display=\"none\";\r\n\r\n    let download_map = document.getElementById(\"downoad_map\");\r\n    download_map.style.display=\"none\";\r\n\r\n}\r\nelse{\r\n    hideMaps()\r\n    let map= document.getElementById(\"inchlib\");\r\n    map.style.display=\"block\";\r\n\r\n    let download_map = document.getElementById(\"downoad_map\");\r\n    download_map.style.display=\"block\";\r\n\r\n}\r\n\r\ninchlib.draw();\r\n};\r\n\r\n\r\nexport function drawmap2(json,target){\r\n    var inchlib2 = new InCHlib({\"target\": target,\r\n                        \"width\": 800,\r\n                        \"height\": 1200,\r\n                        \"column_metadata_colors\": \"RdLrBu\",\r\n                        \"heatmap_colors\": \"RdBkGr\",\r\n                        \"max_percentile\": 90,\r\n                        \"middle_percentile\": 60,\r\n                        \"min_percentile\": 10,\r\n                        \"heatmap_font_color\": \"white\",\r\n                         text: 'biojs'});                \r\n\r\n\r\n    inchlib2.send_json(JSON.parse(json));\r\n    inchlib2.draw();\r\n    }\r\n\r\n    function showMaps(){\r\n\r\n        let map1= document.getElementById(\"inchlib1\");\r\n        map1.style.display=\"block\";\r\n    \r\n        let map2 = document.getElementById(\"inchlib2\");\r\n        map2.style.display=\"block\";\r\n\r\n        let table = document.getElementById(\"table-box-connect-1to2\");\r\n        table.style.display=\"block\";\r\n    \r\n        let ml1 = document.getElementById(\"ml1\");\r\n        ml1.style.display=\"block\";\r\n    \r\n        let h1 = document.getElementById(\"headline1\");\r\n        h1.style.display=\"block\";\r\n\r\n        let table21 = document.getElementById(\"table-box-connect-2to1\");\r\n        table21.style.display=\"block\";\r\n    \r\n        let h2 = document.getElementById(\"headline2\");\r\n        h2.style.display=\"block\";\r\n    \r\n        let ml2 = document.getElementById(\"ml2\");\r\n        ml2.style.display=\"block\";\r\n\r\n        let download_map1 = document.getElementById(\"downoad_map1\");\r\n        download_map1.style.display=\"block\";\r\n\r\n        let download_map2 = document.getElementById(\"downoad_map2\");\r\n        download_map2.style.display=\"block\";\r\n    \r\n    }\r\n\r\n    function hideMaps(){\r\n        let map= document.getElementById(\"inchlib\");\r\n        map.style.display=\"none\";\r\n\r\n        let map1= document.getElementById(\"inchlib1\");\r\n        map1.style.display=\"none\";\r\n    \r\n        let map2 = document.getElementById(\"inchlib2\");\r\n        map2.style.display=\"none\";\r\n\r\n        let table = document.getElementById(\"table-box-connect-1to2\");\r\n        table.style.display=\"none\";\r\n    \r\n        let ml1 = document.getElementById(\"ml1\");\r\n        ml1.style.display=\"none\";\r\n    \r\n        let h1 = document.getElementById(\"headline1\");\r\n        h1.style.display=\"none\";\r\n\r\n        let table21 = document.getElementById(\"table-box-connect-2to1\");\r\n        table21.style.display=\"none\";\r\n    \r\n        let h2 = document.getElementById(\"headline2\");\r\n        h2.style.display=\"none\";\r\n    \r\n        let ml2 = document.getElementById(\"ml2\");\r\n        ml2.style.display=\"none\";\r\n\r\n        let download_map1 = document.getElementById(\"downoad_map1\");\r\n        download_map1.style.display=\"none\";\r\n\r\n        let download_map2 = document.getElementById(\"downoad_map2\");\r\n        download_map2.style.display=\"none\";\r\n\r\n    \r\n    }\r\n\r\n\r\n\r\n    export function drawmapAfterManipulate(json,target){\r\n        var inchlib = new InCHlib({\"target\": target,\r\n                            \"width\": 800,\r\n                            \"height\": 1200,\r\n                            \"column_metadata_colors\": \"RdLrBu\",\r\n                            \"heatmap_colors\": \"RdBkGr\",\r\n                            \"max_percentile\": 90,\r\n                            \"middle_percentile\": 60,\r\n                            \"min_percentile\": 10,\r\n                            \"heatmap_font_color\": \"white\",\r\n                             text: 'biojs'});\r\n                          \r\n        inchlib.send_json(JSON.parse(json));\r\n        inchlib.draw();\r\n        };\r\n        \r\n\r\n\r\n\r\n    \r\nexport function cleanConnectionTables(){\r\n    var table_1to2 = document.getElementById(\"table-connect-1to2\");\r\n    initTable(table_1to2)\r\n    var table_2to1 = document.getElementById(\"table-connect-2to1\");\r\n    initTable(table_2to1);\r\n}\r\n\r\n function cleanTableOne(){\r\n    var table_1to2 = document.getElementById(\"table-connect-1to2\");\r\n    initTable(table_1to2)\r\n}\r\n\r\nfunction cleanTableTwo(){\r\n    var table_2to1 = document.getElementById(\"table-connect-2to1\");\r\n    initTable(table_2to1)\r\n}\r\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","/* @flow */\n/*::\n\ntype DotenvParseOptions = {\n  debug?: boolean\n}\n\n// keys and values from src\ntype DotenvParseOutput = { [string]: string }\n\ntype DotenvConfigOptions = {\n  path?: string, // path to .env file\n  encoding?: string, // encoding of .env file\n  debug?: string // turn on logging for debugging purposes\n}\n\ntype DotenvConfigOutput = {\n  parsed?: DotenvParseOutput,\n  error?: Error\n}\n\n*/\n\nconst fs = require('fs')\nconst path = require('path')\n\nfunction log (message /*: string */) {\n  console.log(`[dotenv][DEBUG] ${message}`)\n}\n\nconst NEWLINE = '\\n'\nconst RE_INI_KEY_VAL = /^\\s*([\\w.-]+)\\s*=\\s*(.*)?\\s*$/\nconst RE_NEWLINES = /\\\\n/g\nconst NEWLINES_MATCH = /\\n|\\r|\\r\\n/\n\n// Parses src into an Object\nfunction parse (src /*: string | Buffer */, options /*: ?DotenvParseOptions */) /*: DotenvParseOutput */ {\n  const debug = Boolean(options && options.debug)\n  const obj = {}\n\n  // convert Buffers before splitting into lines and processing\n  src.toString().split(NEWLINES_MATCH).forEach(function (line, idx) {\n    // matching \"KEY' and 'VAL' in 'KEY=VAL'\n    const keyValueArr = line.match(RE_INI_KEY_VAL)\n    // matched?\n    if (keyValueArr != null) {\n      const key = keyValueArr[1]\n      // default undefined or missing values to empty string\n      let val = (keyValueArr[2] || '')\n      const end = val.length - 1\n      const isDoubleQuoted = val[0] === '\"' && val[end] === '\"'\n      const isSingleQuoted = val[0] === \"'\" && val[end] === \"'\"\n\n      // if single or double quoted, remove quotes\n      if (isSingleQuoted || isDoubleQuoted) {\n        val = val.substring(1, end)\n\n        // if double quoted, expand newlines\n        if (isDoubleQuoted) {\n          val = val.replace(RE_NEWLINES, NEWLINE)\n        }\n      } else {\n        // remove surrounding whitespace\n        val = val.trim()\n      }\n\n      obj[key] = val\n    } else if (debug) {\n      log(`did not match key and value when parsing line ${idx + 1}: ${line}`)\n    }\n  })\n\n  return obj\n}\n\n// Populates process.env from .env file\nfunction config (options /*: ?DotenvConfigOptions */) /*: DotenvConfigOutput */ {\n  let dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding /*: string */ = 'utf8'\n  let debug = false\n\n  if (options) {\n    if (options.path != null) {\n      dotenvPath = options.path\n    }\n    if (options.encoding != null) {\n      encoding = options.encoding\n    }\n    if (options.debug != null) {\n      debug = true\n    }\n  }\n\n  try {\n    // specifying an encoding returns a string instead of a buffer\n    const parsed = parse(fs.readFileSync(dotenvPath, { encoding }), { debug })\n\n    Object.keys(parsed).forEach(function (key) {\n      if (!Object.prototype.hasOwnProperty.call(process.env, key)) {\n        process.env[key] = parsed[key]\n      } else if (debug) {\n        log(`\"${key}\" is already defined in \\`process.env\\` and will not be overwritten`)\n      }\n    })\n\n    return { parsed }\n  } catch (e) {\n    return { error: e }\n  }\n}\n\nmodule.exports.config = config\nmodule.exports.parse = parse\n","//Primary index.js file\r\nconst dotenv= require('dotenv').config()\r\nconst api_host = process.env.API_HOST;\r\n\r\n\r\n\r\n$(document).ready(() =>{\r\n    //CheckBox listener\r\n    var table12 = document.getElementById(\"table-box-connect-1to2\");\r\n    table12.style.display=\"none\";\r\n    var table21 = document.getElementById(\"table-box-connect-2to1\");\r\n    table21.style.display=\"none\";\r\n\r\n\r\n    var h1 = document.getElementById(\"headline1\");\r\n    h1.style.display=\"none\";\r\n    var h2 = document.getElementById(\"headline2\");\r\n    h2.style.display=\"none\";\r\n\r\n\r\n    var ml1 = document.getElementById(\"ml1\");\r\n    ml1.style.display=\"none\";\r\n    var ml2 = document.getElementById(\"ml2\");\r\n    ml2.style.display=\"none\";\r\n\r\n   document.getElementById(\"spinner\").style.display=\"none\";\r\n})\r\n\r\nexport{api_host};","const axios = require('axios')\r\nconst {drawmapAfterManipulate} = require('./drawmap')\r\nconst {api_host} = require(\"./index\")\r\nconsole.log(api_host)\r\n\r\nvar wichTableWorkOn;\r\nvar clusterManipluate;\r\ndocument.getElementById('preprocess1').addEventListener('click',(e) =>{\r\n    wichTableWorkOn=\"first_second\"\r\n},false)\r\n\r\n\r\ndocument.getElementById('preprocess2').addEventListener('click',(e) =>{\r\n    wichTableWorkOn=\"second_first\"\r\n},false)\r\n\r\n\r\ndocument.getElementById('mainuplate-data').addEventListener('click',(e) =>{\r\n    $(function () {\r\n        $('#exampleModal').modal('toggle');\r\n     });\r\n    dataManipulate();\r\n},false)\r\n\r\n\r\ndocument.getElementById('target-clust-select-manipul').addEventListener('change',changeSelectClusterManipulate)\r\n\r\n\r\n\r\n\r\nfunction dataManipulate(){\r\n\r\n    let properties = {}\r\n    let checkIfBoth = document.getElementById('target-clust-select-manipul').value\r\n    let action = document.getElementById('action').value\r\n    let linkage1 = document.getElementById('linkage-select-manipulate').value\r\n    let distance1 = document.getElementById('distance-select2-manipulate').value\r\n    let values = getAllValues(wichTableWorkOn ===\"first_second\" ? \"table-connect-1to2\" :\"table-connect-2to1\" )\r\n    properties['data_work_on'] = wichTableWorkOn;\r\n    properties['metadata'] = 0;\r\n    properties['action'] = (action+\"\").toLowerCase()\r\n    properties['raw_linkage'] = linkage1\r\n    properties['raw_distance'] = distance1\r\n    \r\n\r\n    if(checkIfBoth==='Both'){\r\n        properties['both1'] = 1;\r\n        properties['column_linkage'] = document.getElementById('linkage-select-column-manipulate').value\r\n        properties['column_distance'] = document.getElementById('distance-select-column2-manipulate').value\r\n    }\r\n    else{\r\n        properties['both1'] = 0;\r\n    }\r\n    properties['values'] = values\r\n\r\n    sendToServer(properties)\r\n\r\n}\r\n\r\n\r\n\r\nfunction sendToServer(properties){\r\n    let map;\r\n    if(properties['data_work_on']=='first_second')\r\n        map=\"inchlib2\"\r\n    else\r\n        map=\"inchlib1\"\r\n\r\n    axios.post(api_host+\"actions/\"+properties['action'], properties, {\r\n      headers: {\r\n        'content-Type': 'application/json',\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"uuid\":localStorage.getItem('uuid')\r\n      }\r\n      }).then((response) => {\r\n        drawmapAfterManipulate(response.data,map)\r\n    }, (error) => {\r\n      errormessage = error.response.data['detail']\r\n      if(map=\"inchlib2\"){\r\n        $( `<p style=\"color:red\" id=\"action_error\">${errormessage}</p>` ).insertAfter( \"#ml1\" );\r\n        setTimeout(() => $(\"#action_error\").remove(),3000)\r\n      }\r\n      else{\r\n        $( `<p style=\"color:red\" id=\"action_error\">${errormessage}</p>` ).insertAfter( \"#ml2\" );\r\n        setTimeout(() => $(\"#action_error\").remove(),3000)\r\n      }\r\n    });\r\n\r\n}\r\n\r\n\r\nfunction changeSelectClusterManipulate(event){\r\n\r\n    if(event.target.value === 'Both'){\r\n        document.getElementById('mir-linkage-column-manipulate').style.display='block'\r\n        document.getElementById('tgt-distance-column-manipulate').style.display='block'\r\n    }\r\n    else{\r\n        document.getElementById('mir-linkage-column-manipulate').style.display='none'\r\n        document.getElementById('distance-select-column2-manipulate').style.display='none'\r\n    }   \r\n\r\n\r\n}\r\n\r\n\r\nfunction getAllValues(tableName){\r\n    let array = []\r\n    $('#'+tableName+' tbody tr td:nth-child(1)').each( function(){\r\n        //add item to array\r\n        array.push( $(this).text() );       \r\n     });\r\n     return array;\r\n}"]}